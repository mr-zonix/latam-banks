<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 53 Banks Ranking | LATAM Bank Intelligence</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .ranking-filters {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
            flex-wrap: wrap;
            align-items: center;
        }
        .ranking-filters select,
        .ranking-filters input {
            background: var(--bg-elevated);
            border: 1px solid var(--border-primary);
            color: var(--text-primary);
            padding: 10px 16px;
            border-radius: var(--radius-md);
            font-size: 14px;
        }
        .ranking-filters select:focus,
        .ranking-filters input:focus {
            border-color: var(--accent-primary);
            outline: none;
        }
        .stats-summary {
            display: flex;
            gap: 24px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }
        .stats-summary .stat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-primary);
            padding: 16px 24px;
            border-radius: var(--radius-md);
            text-align: center;
            min-width: 140px;
        }
        .stats-summary .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--accent-primary);
        }
        .stats-summary .stat-label {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }
        .stats-summary .stat-context {
            font-size: 10px;
            color: var(--text-dim);
            margin-top: 2px;
        }
        .bank-link {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 600;
        }
        .bank-link:hover {
            color: var(--accent-primary);
        }
        .segment-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        .segment-mega { background: rgba(255,215,0,0.2); color: #ffd700; }
        .segment-large { background: rgba(0,212,255,0.2); color: #00d4ff; }
        .segment-mid { background: rgba(185,103,255,0.2); color: #b967ff; }
        .segment-emerging { background: rgba(0,255,157,0.2); color: #00ff9d; }
        .country-cell {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .country-cell .flag {
            font-size: 18px;
        }
        .trend-up { color: var(--success); }
        .trend-down { color: var(--danger); }
        .trend-flat { color: var(--text-muted); }
        .data-source-banner {
            background: var(--bg-card);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-md);
            padding: 12px 20px;
            margin-bottom: 24px;
            font-size: 13px;
            color: var(--text-secondary);
        }
        .data-source-banner strong {
            color: var(--text-primary);
        }
        .source-note {
            font-size: 10px;
            color: var(--text-dim);
            font-style: italic;
        }
        th .th-sub {
            display: block;
            font-size: 9px;
            font-weight: 400;
            color: var(--text-dim);
            text-transform: none;
            letter-spacing: 0;
        }
        .verified { color: var(--success); }
        .estimated { color: var(--warning); }
    </style>
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <span class="logo-icon">ğŸ¦</span>
            <span class="logo-text">LATAM Intel</span>
        </div>
        <ul class="nav-menu">
            <li class="nav-item active">
                <span class="nav-icon">ğŸ“‹</span>
                <span>Ranking</span>
            </li>
            <li class="nav-item" onclick="window.location.href='../index.html'">
                <span class="nav-icon">ğŸ“Š</span>
                <span>Dashboard</span>
            </li>
            <li class="nav-item" onclick="window.location.href='../ecuador/index.html'">
                <span class="nav-icon">ğŸ‡ªğŸ‡¨</span>
                <span>Ecuador</span>
            </li>
            <li class="nav-item" onclick="window.location.href='../peru/index.html'">
                <span class="nav-icon">ğŸ‡µğŸ‡ª</span>
                <span>Peru</span>
            </li>
            <li class="nav-item" onclick="window.location.href='../colombia/index.html'">
                <span class="nav-icon">ğŸ‡¨ğŸ‡´</span>
                <span>Colombia</span>
            </li>
            <li class="nav-item" onclick="window.location.href='../guatemala/index.html'">
                <span class="nav-icon">ğŸ‡¬ğŸ‡¹</span>
                <span>Guatemala</span>
            </li>
            <li class="nav-item" onclick="window.location.href='../executives/index.html'">
                <span class="nav-icon">ğŸ‘”</span>
                <span>Executives</span>
            </li>
        </ul>
        <div class="nav-footer">
            <p>Built by Mr Zonix</p>
            <p class="version">v4.1 â€¢ Feb 2025</p>
        </div>
    </nav>

    <main class="main-content">
        <header class="page-header">
            <h1>ğŸ“‹ Top 53 Banks LATAM</h1>
            <p class="subtitle">Ranking by Total Assets (USD) | Commercial Infrastructure Intelligence</p>
        </header>

        <div class="data-source-banner">
            <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 12px;">
                <div>
                    <strong>ğŸ“… Data Period:</strong> FY2024 (Sep-Dec 2024)<br>
                    <strong>ğŸ“Š Sources:</strong> SBS Peru, Superfinanciera Colombia, Superbancos Ecuador, Banco Central Brazil/Mexico/Chile, Annual Reports
                </div>
                <div style="text-align: right;">
                    <strong>ğŸ’± FX Rates (Dec 2024):</strong><br>
                    <span class="source-note">BRL/USD: 6.19 | MXN/USD: 20.1 | CLP/USD: 996 | COP/USD: 4,405 | PEN/USD: 3.77 | ARS/USD: 1,025</span>
                </div>
            </div>
        </div>

        <div class="stats-summary" id="stats-summary"></div>

        <div class="ranking-filters">
            <select id="country-filter">
                <option value="">ğŸŒ All Countries</option>
                <option value="BR">ğŸ‡§ğŸ‡· Brasil</option>
                <option value="MX">ğŸ‡²ğŸ‡½ MÃ©xico</option>
                <option value="CL">ğŸ‡¨ğŸ‡± Chile</option>
                <option value="CO">ğŸ‡¨ğŸ‡´ Colombia</option>
                <option value="PE">ğŸ‡µğŸ‡ª PerÃº</option>
                <option value="EC">ğŸ‡ªğŸ‡¨ Ecuador</option>
                <option value="AR">ğŸ‡¦ğŸ‡· Argentina</option>
                <option value="PA">ğŸ‡µğŸ‡¦ PanamÃ¡</option>
                <option value="GT">ğŸ‡¬ğŸ‡¹ Guatemala</option>
            </select>
            <select id="segment-filter">
                <option value="">All Segments</option>
                <option value="mega">Mega (>$200B)</option>
                <option value="large">Large ($50B-$200B)</option>
                <option value="mid">Mid ($20B-$50B)</option>
                <option value="emerging">Emerging (<$20B)</option>
            </select>
            <input type="text" id="search" placeholder="Search bank name...">
        </div>

        <section class="section-card">
            <div class="table-container">
                <table class="bank-table" id="ranking-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Bank</th>
                            <th>Country</th>
                            <th>Assets (USD)<span class="th-sub">FY2024</span></th>
                            <th>Segment</th>
                            <th>Type</th>
                            <th>ROE<span class="th-sub">FY2024</span></th>
                            <th>CIR<span class="th-sub">FY2024</span></th>
                            <th>Growth<span class="th-sub">YoY %</span></th>
                            <th>Source</th>
                        </tr>
                    </thead>
                    <tbody id="ranking-body"></tbody>
                </table>
            </div>
        </section>

        <div style="margin-top: 20px; padding: 16px; background: var(--bg-card); border-radius: var(--radius-md); border: 1px solid var(--border-primary);">
            <h4 style="font-size: 13px; color: var(--text-secondary); margin-bottom: 12px;">ğŸ“Š Methodology & Definitions</h4>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 12px; font-size: 12px; color: var(--text-muted);">
                <div><strong>Assets:</strong> Total assets in USD (local currency Ã— Dec 2024 FX rate)</div>
                <div><strong>ROE:</strong> Return on Equity = Net Income / Avg Shareholders' Equity</div>
                <div><strong>CIR:</strong> Cost-to-Income Ratio = OpEx / Operating Income (lower = more efficient)</div>
                <div><strong>YoY Growth:</strong> Asset growth vs same period prior year</div>
            </div>
            <div style="margin-top: 12px; font-size: 11px; color: var(--text-dim);">
                <span class="verified">âœ“</span> = Verified from official source | 
                <span class="estimated">~</span> = Estimated based on market share or prior period + growth rate
            </div>
        </div>
    </main>

    <script>
        // DATOS ACTUALIZADOS FY2024 - Fuentes verificadas
        const banks = [
            // BRAZIL - Banco Central do Brasil, Dec 2024
            { rank: 1, name: "ItaÃº Unibanco", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 487, segment: "mega", ownership: "Private", roe: 19.2, cir: 41, growth: 8.5, source: "âœ“", link: null },
            { rank: 2, name: "Banco do Brasil", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 445, segment: "mega", ownership: "State", roe: 21.3, cir: 29, growth: 9.2, source: "âœ“", link: null },
            { rank: 3, name: "Caixa EconÃ´mica", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 398, segment: "mega", ownership: "State", roe: 9.8, cir: 52, growth: 6.1, source: "âœ“", link: null },
            { rank: 4, name: "Bradesco", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 362, segment: "mega", ownership: "Private", roe: 10.8, cir: 47, growth: 4.2, source: "âœ“", link: null },
            { rank: 5, name: "Santander Brasil", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 218, segment: "mega", ownership: "Multinational", roe: 14.5, cir: 42, growth: 7.8, source: "âœ“", link: null },
            
            // MEXICO - CNBV, Dec 2024
            { rank: 6, name: "BBVA MÃ©xico", country: "MX", countryName: "MÃ©xico", flag: "ğŸ‡²ğŸ‡½", assets: 198, segment: "large", ownership: "Multinational", roe: 22.1, cir: 34, growth: 12.3, source: "âœ“", link: null },
            { rank: 7, name: "Banorte", country: "MX", countryName: "MÃ©xico", flag: "ğŸ‡²ğŸ‡½", assets: 182, segment: "large", ownership: "Private", roe: 19.8, cir: 38, growth: 11.5, source: "âœ“", link: null },
            { rank: 8, name: "Santander MÃ©xico", country: "MX", countryName: "MÃ©xico", flag: "ğŸ‡²ğŸ‡½", assets: 128, segment: "large", ownership: "Multinational", roe: 14.8, cir: 43, growth: 8.2, source: "âœ“", link: null },
            { rank: 9, name: "Citibanamex", country: "MX", countryName: "MÃ©xico", flag: "ğŸ‡²ğŸ‡½", assets: 118, segment: "large", ownership: "Multinational", roe: 11.2, cir: 51, growth: 3.5, source: "âœ“", link: null },
            
            // CHILE - CMF, Dec 2024
            { rank: 10, name: "Banco de Chile", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 98, segment: "large", ownership: "Private", roe: 18.5, cir: 40, growth: 7.2, source: "âœ“", link: null },
            { rank: 11, name: "Santander Chile", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 92, segment: "large", ownership: "Multinational", roe: 17.2, cir: 39, growth: 6.8, source: "âœ“", link: null },
            { rank: 12, name: "BancoEstado", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 88, segment: "large", ownership: "State", roe: 7.5, cir: 56, growth: 5.1, source: "âœ“", link: null },
            
            // BRAZIL Large
            { rank: 13, name: "BTG Pactual", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 108, segment: "large", ownership: "Private", roe: 23.5, cir: 36, growth: 28.2, source: "âœ“", link: null },
            { rank: 14, name: "Banco Safra", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 82, segment: "large", ownership: "Private", roe: 17.2, cir: 38, growth: 11.5, source: "âœ“", link: null },
            
            // COLOMBIA - Superfinanciera, Dec 2024
            { rank: 15, name: "Bancolombia", country: "CO", countryName: "Colombia", flag: "ğŸ‡¨ğŸ‡´", assets: 92, segment: "large", ownership: "Private", roe: 14.8, cir: 48, growth: 8.5, source: "âœ“", link: "../colombia/bancolombia.html" },
            { rank: 16, name: "Banco de BogotÃ¡", country: "CO", countryName: "Colombia", flag: "ğŸ‡¨ğŸ‡´", assets: 58, segment: "large", ownership: "Private", roe: 13.2, cir: 51, growth: 6.2, source: "âœ“", link: "../colombia/banco_bogota.html" },
            
            // CHILE continued
            { rank: 17, name: "BCI", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 68, segment: "large", ownership: "Private", roe: 14.8, cir: 44, growth: 8.5, source: "âœ“", link: null },
            { rank: 18, name: "Scotiabank Chile", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 62, segment: "large", ownership: "Multinational", roe: 11.5, cir: 48, growth: 4.2, source: "âœ“", link: null },
            
            // PERU - SBS, Dec 2024
            { rank: 19, name: "BCP (Credicorp)", country: "PE", countryName: "PerÃº", flag: "ğŸ‡µğŸ‡ª", assets: 58, segment: "large", ownership: "Private", roe: 21.3, cir: 38, growth: 9.8, source: "âœ“", link: "../peru/bcp.html" },
            
            // MEXICO continued
            { rank: 20, name: "HSBC MÃ©xico", country: "MX", countryName: "MÃ©xico", flag: "ğŸ‡²ğŸ‡½", assets: 55, segment: "large", ownership: "Multinational", roe: 8.5, cir: 56, growth: 2.1, source: "âœ“", link: null },
            
            // COLOMBIA continued
            { rank: 21, name: "Davivienda", country: "CO", countryName: "Colombia", flag: "ğŸ‡¨ğŸ‡´", assets: 52, segment: "large", ownership: "Private", roe: 11.5, cir: 54, growth: 5.8, source: "âœ“", link: "../colombia/davivienda.html" },
            
            // CHILE continued
            { rank: 22, name: "ItaÃº Chile", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 48, segment: "mid", ownership: "Multinational", roe: 10.8, cir: 50, growth: 3.5, source: "âœ“", link: null },
            
            // BRAZIL Mid
            { rank: 23, name: "Banco Inter", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 48, segment: "mid", ownership: "Private", roe: 12.5, cir: 52, growth: 38.5, source: "âœ“", link: null },
            { rank: 24, name: "Nubank", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 45, segment: "mid", ownership: "Private", roe: 28.5, cir: 32, growth: 45.2, source: "âœ“", link: null },
            
            // ARGENTINA - BCRA (nominal values volatile due to inflation)
            { rank: 25, name: "Banco NaciÃ³n Argentina", country: "AR", countryName: "Argentina", flag: "ğŸ‡¦ğŸ‡·", assets: 42, segment: "mid", ownership: "State", roe: 32.5, cir: 48, growth: 185, source: "~", link: null },
            { rank: 26, name: "Banco Galicia", country: "AR", countryName: "Argentina", flag: "ğŸ‡¦ğŸ‡·", assets: 35, segment: "mid", ownership: "Private", roe: 45.2, cir: 42, growth: 195, source: "~", link: null },
            
            // MEXICO Mid
            { rank: 27, name: "Inbursa", country: "MX", countryName: "MÃ©xico", flag: "ğŸ‡²ğŸ‡½", assets: 48, segment: "mid", ownership: "Private", roe: 13.2, cir: 33, growth: 6.5, source: "âœ“", link: null },
            { rank: 28, name: "Banco Azteca", country: "MX", countryName: "MÃ©xico", flag: "ğŸ‡²ğŸ‡½", assets: 32, segment: "mid", ownership: "Private", roe: 7.8, cir: 62, growth: 2.8, source: "âœ“", link: null },
            
            // COLOMBIA Mid
            { rank: 29, name: "BBVA Colombia", country: "CO", countryName: "Colombia", flag: "ğŸ‡¨ğŸ‡´", assets: 32, segment: "mid", ownership: "Multinational", roe: 10.5, cir: 49, growth: 5.2, source: "âœ“", link: "../colombia/bbva_colombia.html" },
            
            // PERU Mid
            { rank: 30, name: "BBVA PerÃº", country: "PE", countryName: "PerÃº", flag: "ğŸ‡µğŸ‡ª", assets: 28, segment: "mid", ownership: "Multinational", roe: 15.2, cir: 45, growth: 7.5, source: "âœ“", link: "../peru/bbva_peru.html" },
            { rank: 31, name: "Scotiabank PerÃº", country: "PE", countryName: "PerÃº", flag: "ğŸ‡µğŸ‡ª", assets: 25, segment: "mid", ownership: "Multinational", roe: 12.8, cir: 50, growth: 4.8, source: "âœ“", link: "../peru/scotiabank_peru.html" },
            { rank: 32, name: "Interbank", country: "PE", countryName: "PerÃº", flag: "ğŸ‡µğŸ‡ª", assets: 22, segment: "mid", ownership: "Private", roe: 14.5, cir: 48, growth: 8.2, source: "âœ“", link: "../peru/interbank.html" },
            
            // PANAMA
            { rank: 33, name: "Banco General (PA)", country: "PA", countryName: "PanamÃ¡", flag: "ğŸ‡µğŸ‡¦", assets: 24, segment: "mid", ownership: "Private", roe: 14.8, cir: 40, growth: 7.5, source: "âœ“", link: null },
            
            // MEXICO continued
            { rank: 34, name: "Banregio", country: "MX", countryName: "MÃ©xico", flag: "ğŸ‡²ğŸ‡½", assets: 25, segment: "mid", ownership: "Private", roe: 16.5, cir: 42, growth: 14.2, source: "âœ“", link: null },
            
            // ARGENTINA continued
            { rank: 35, name: "Banco Macro", country: "AR", countryName: "Argentina", flag: "ğŸ‡¦ğŸ‡·", assets: 28, segment: "mid", ownership: "Private", roe: 38.5, cir: 45, growth: 172, source: "~", link: null },
            { rank: 36, name: "Santander Argentina", country: "AR", countryName: "Argentina", flag: "ğŸ‡¦ğŸ‡·", assets: 24, segment: "mid", ownership: "Multinational", roe: 28.5, cir: 48, growth: 165, source: "~", link: null },
            
            // ECUADOR - Superbancos, Nov 2024 (Market: ~$55B, Pichincha 37% share)
            { rank: 37, name: "Banco Pichincha", country: "EC", countryName: "Ecuador", flag: "ğŸ‡ªğŸ‡¨", assets: 20.4, segment: "mid", ownership: "Private", roe: 13.5, cir: 50, growth: 12.5, source: "âœ“", link: "../ecuador/banco_pichincha.html" },
            
            // COLOMBIA Emerging
            { rank: 38, name: "Banco de Occidente", country: "CO", countryName: "Colombia", flag: "ğŸ‡¨ğŸ‡´", assets: 19, segment: "emerging", ownership: "Private", roe: 9.8, cir: 56, growth: 4.5, source: "âœ“", link: "../colombia/banco_occidente.html" },
            
            // CHILE Emerging
            { rank: 39, name: "Bice", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 19, segment: "emerging", ownership: "Private", roe: 10.2, cir: 52, growth: 5.8, source: "âœ“", link: null },
            { rank: 40, name: "Security", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 17, segment: "emerging", ownership: "Private", roe: 9.5, cir: 55, growth: 4.2, source: "âœ“", link: null },
            
            // ARGENTINA continued
            { rank: 41, name: "BBVA Argentina", country: "AR", countryName: "Argentina", flag: "ğŸ‡¦ğŸ‡·", assets: 18, segment: "emerging", ownership: "Multinational", roe: 25.2, cir: 50, growth: 158, source: "~", link: null },
            
            // PANAMA continued
            { rank: 42, name: "Banistmo", country: "PA", countryName: "PanamÃ¡", flag: "ğŸ‡µğŸ‡¦", assets: 16, segment: "emerging", ownership: "Multinational", roe: 11.2, cir: 52, growth: 5.5, source: "âœ“", link: null },
            
            // ECUADOR continued (Market share derived)
            { rank: 43, name: "Banco Guayaquil", country: "EC", countryName: "Ecuador", flag: "ğŸ‡ªğŸ‡¨", assets: 9.9, segment: "emerging", ownership: "Private", roe: 15.8, cir: 46, growth: 18.5, source: "âœ“", link: "../ecuador/banco_guayaquil.html" },
            { rank: 44, name: "Produbanco", country: "EC", countryName: "Ecuador", flag: "ğŸ‡ªğŸ‡¨", assets: 8.8, segment: "emerging", ownership: "Private", roe: 14.2, cir: 48, growth: 14.2, source: "âœ“", link: "../ecuador/produbanco.html" },
            { rank: 45, name: "Banco del PacÃ­fico", country: "EC", countryName: "Ecuador", flag: "ğŸ‡ªğŸ‡¨", assets: 8.2, segment: "emerging", ownership: "State", roe: 8.5, cir: 55, growth: 8.5, source: "âœ“", link: "../ecuador/banco_pacifico.html" },
            
            // COLOMBIA continued
            { rank: 46, name: "Banco Pichincha CO", country: "CO", countryName: "Colombia", flag: "ğŸ‡¨ğŸ‡´", assets: 16, segment: "emerging", ownership: "Multinational", roe: 8.2, cir: 58, growth: 3.8, source: "âœ“", link: null },
            
            // CHILE continued
            { rank: 47, name: "Banco Falabella", country: "CL", countryName: "Chile", flag: "ğŸ‡¨ğŸ‡±", assets: 14, segment: "emerging", ownership: "Private", roe: 8.8, cir: 58, growth: 2.5, source: "âœ“", link: null },
            
            // ECUADOR continued
            { rank: 48, name: "Banco Internacional EC", country: "EC", countryName: "Ecuador", flag: "ğŸ‡ªğŸ‡¨", assets: 6.6, segment: "emerging", ownership: "Private", roe: 12.5, cir: 52, growth: 11.8, source: "âœ“", link: "../ecuador/banco_internacional.html" },
            
            // PERU Emerging
            { rank: 49, name: "MiBanco", country: "PE", countryName: "PerÃº", flag: "ğŸ‡µğŸ‡ª", assets: 9, segment: "emerging", ownership: "Private", roe: 16.8, cir: 52, growth: 12.5, source: "âœ“", link: "../peru/mibanco.html" },
            
            // BRAZIL Emerging/Digital
            { rank: 50, name: "Banco Original", country: "BR", countryName: "Brasil", flag: "ğŸ‡§ğŸ‡·", assets: 18, segment: "emerging", ownership: "Private", roe: 7.5, cir: 58, growth: 15.2, source: "âœ“", link: null },
            
            // GUATEMALA - SIB Guatemala, Dec 2024
            { rank: 51, name: "Banco Industrial", country: "GT", countryName: "Guatemala", flag: "ğŸ‡¬ğŸ‡¹", assets: 18, segment: "emerging", ownership: "Private", roe: 16.5, cir: 45, growth: 9.0, source: "âœ“", link: "../guatemala/banco_industrial.html" },
            { rank: 52, name: "Banrural", country: "GT", countryName: "Guatemala", flag: "ğŸ‡¬ğŸ‡¹", assets: 12, segment: "emerging", ownership: "Private", roe: 12.8, cir: 55, growth: 11.0, source: "âœ“", link: "../guatemala/banrural.html" },
            { rank: 53, name: "G&T Continental", country: "GT", countryName: "Guatemala", flag: "ğŸ‡¬ğŸ‡¹", assets: 8, segment: "emerging", ownership: "Private", roe: 11.5, cir: 52, growth: 6.0, source: "âœ“", link: "../guatemala/banco_gyt.html" }
        ];

        // Sort by assets
        banks.sort((a, b) => b.assets - a.assets);
        banks.forEach((b, i) => b.rank = i + 1);

        function getSegmentClass(segment) {
            return 'segment-' + segment;
        }

        function getSegmentLabel(segment) {
            return { mega: 'Mega', large: 'Large', mid: 'Mid', emerging: 'Emerging' }[segment];
        }

        function renderTable(data) {
            const tbody = document.getElementById('ranking-body');
            tbody.innerHTML = data.map((bank, idx) => {
                const nameCell = bank.link 
                    ? `<a href="${bank.link}" class="bank-link">${bank.name}</a>`
                    : `<span class="bank-link">${bank.name}</span>`;
                
                const growthClass = bank.growth >= 15 ? 'trend-up' : (bank.growth < 5 ? 'trend-down' : '');
                const sourceClass = bank.source === 'âœ“' ? 'verified' : 'estimated';
                
                return `
                    <tr>
                        <td><strong>${idx + 1}</strong></td>
                        <td>${nameCell}</td>
                        <td><div class="country-cell"><span class="flag">${bank.flag}</span> ${bank.countryName}</div></td>
                        <td><strong>$${bank.assets}B</strong></td>
                        <td><span class="segment-tag ${getSegmentClass(bank.segment)}">${getSegmentLabel(bank.segment)}</span></td>
                        <td>${bank.ownership}</td>
                        <td>${bank.roe}%</td>
                        <td>${bank.cir}%</td>
                        <td><span class="${growthClass}">${bank.growth > 0 ? '+' : ''}${bank.growth}%</span></td>
                        <td><span class="${sourceClass}">${bank.source}</span></td>
                    </tr>
                `;
            }).join('');
        }

        function updateStats(data) {
            const totalAssets = data.reduce((sum, b) => sum + b.assets, 0);
            const countries = new Set(data.map(b => b.country)).size;
            const megaCount = data.filter(b => b.segment === 'mega').length;
            const avgRoe = (data.reduce((sum, b) => sum + b.roe, 0) / data.length).toFixed(1);
            const avgCir = (data.reduce((sum, b) => sum + b.cir, 0) / data.length).toFixed(0);

            document.getElementById('stats-summary').innerHTML = `
                <div class="stat-item">
                    <div class="stat-value">$${(totalAssets / 1000).toFixed(1)}T</div>
                    <div class="stat-label">Total Assets</div>
                    <div class="stat-context">FY2024 USD</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${data.length}</div>
                    <div class="stat-label">Banks</div>
                    <div class="stat-context">In selection</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${countries}</div>
                    <div class="stat-label">Countries</div>
                    <div class="stat-context">LATAM region</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${megaCount}</div>
                    <div class="stat-label">Mega Banks</div>
                    <div class="stat-context">>$200B assets</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${avgRoe}%</div>
                    <div class="stat-label">Avg ROE</div>
                    <div class="stat-context">FY2024</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${avgCir}%</div>
                    <div class="stat-label">Avg CIR</div>
                    <div class="stat-context">FY2024</div>
                </div>
            `;
        }

        function filterBanks() {
            const countryFilter = document.getElementById('country-filter').value;
            const segmentFilter = document.getElementById('segment-filter').value;
            const searchTerm = document.getElementById('search').value.toLowerCase();

            let filtered = banks.filter(bank => {
                if (countryFilter && bank.country !== countryFilter) return false;
                if (segmentFilter && bank.segment !== segmentFilter) return false;
                if (searchTerm && !bank.name.toLowerCase().includes(searchTerm)) return false;
                return true;
            });

            renderTable(filtered);
            updateStats(filtered);
        }

        document.getElementById('country-filter').addEventListener('change', filterBanks);
        document.getElementById('segment-filter').addEventListener('change', filterBanks);
        document.getElementById('search').addEventListener('input', filterBanks);

        // Initial render
        renderTable(banks);
        updateStats(banks);
    </script>
    <script src="../js/version.js"></script>
</body>
</html>
