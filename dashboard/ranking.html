<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 100 Bancos LATAM | Ranking EstratÃ©gico</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .ranking-header{text-align:center;margin-bottom:32px}
        .ranking-header h1{font-size:2.2rem;background:var(--accent-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px}
        .ranking-header .subtitle{color:var(--text-secondary);font-size:1rem}
        .data-context{background:var(--bg-card);border:1px solid var(--border-primary);border-radius:var(--radius-md);padding:16px 24px;margin-bottom:24px;display:flex;flex-wrap:wrap;gap:24px;justify-content:center;align-items:center}
        .context-item{text-align:center}
        .context-label{font-size:0.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.5px}
        .context-value{font-size:0.95rem;color:var(--text-primary);font-weight:500}
        .stats-row{display:flex;gap:16px;margin-bottom:24px;flex-wrap:wrap;justify-content:center}
        .mini-stat{background:var(--bg-card);padding:14px 20px;border-radius:var(--radius-md);text-align:center;border:1px solid var(--border-primary);min-width:130px}
        .mini-stat-value{font-size:1.4rem;font-weight:700;color:var(--accent-primary)}
        .mini-stat-label{font-size:0.75rem;color:var(--text-muted);margin-top:4px}
        .filters-bar{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap;align-items:center;justify-content:center}
        .filter-group{display:flex;align-items:center;gap:6px}
        .filter-group label{font-size:0.8rem;color:var(--text-muted)}
        .filter-select,.filter-input{background:var(--bg-card);border:1px solid var(--border-primary);color:var(--text-primary);padding:8px 12px;border-radius:var(--radius-sm);font-size:0.85rem;font-family:inherit;outline:none}
        .filter-select:focus,.filter-input:focus{border-color:var(--accent-primary)}
        .legend-bar{display:flex;gap:20px;justify-content:center;margin-bottom:16px;flex-wrap:wrap}
        .legend-item{display:flex;align-items:center;gap:6px;font-size:0.8rem;color:var(--text-secondary)}
        .legend-dot{width:10px;height:10px;border-radius:50%}
        .legend-dot.hot{background:#FF6B6B}
        .legend-dot.warm{background:#FFB800}
        .legend-dot.watch{background:#4DA3FF}
        .ranking-table-container{background:var(--bg-card);border-radius:var(--radius-lg);overflow-x:auto;border:1px solid var(--border-primary)}
        .ranking-table{width:100%;border-collapse:collapse;min-width:1200px}
        .ranking-table th{background:rgba(232,76,61,0.1);padding:12px 10px;text-align:left;font-weight:600;color:var(--accent-primary);font-size:0.7rem;text-transform:uppercase;cursor:pointer;border-bottom:1px solid var(--border-primary);white-space:nowrap;position:relative}
        .ranking-table th:hover{background:rgba(232,76,61,0.15)}
        .ranking-table th.sorted-asc::after{content:' â–²'}
        .ranking-table th.sorted-desc::after{content:' â–¼'}
        .ranking-table th .tooltip{position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:var(--bg-elevated);color:var(--text-primary);padding:8px 12px;border-radius:6px;font-size:0.75rem;font-weight:400;text-transform:none;white-space:normal;width:200px;display:none;z-index:100;box-shadow:var(--shadow-lg);border:1px solid var(--border-primary)}
        .ranking-table th:hover .tooltip{display:block}
        .ranking-table td{padding:10px;border-bottom:1px solid var(--border-primary);font-size:0.85rem}
        .ranking-table tbody tr:hover{background:rgba(232,76,61,0.05)}
        .rank-cell{font-weight:700;text-align:center;width:40px;color:var(--text-muted)}
        .rank-1{color:#FFD700!important}
        .rank-2{color:#C0C0C0!important}
        .rank-3{color:#CD7F32!important}
        .bank-name-cell{font-weight:600;color:var(--text-primary);max-width:200px}
        .country-cell{display:flex;align-items:center;gap:6px}
        .flag{font-size:1rem}
        .assets-cell{font-weight:600;color:var(--accent-primary);text-align:right;font-family:var(--font-mono)}
        .ratio-cell{text-align:center;font-family:var(--font-mono);font-size:0.8rem}
        .ratio-good{color:#34D399}
        .ratio-warning{color:#FFB800}
        .ratio-bad{color:#FF6B6B}
        .ratio-neutral{color:var(--text-secondary)}
        .growth-positive{color:#34D399}
        .growth-negative{color:#FF6B6B}
        .segment-badge{display:inline-block;padding:3px 8px;border-radius:10px;font-size:0.7rem;font-weight:600}
        .segment-mega{background:rgba(255,215,0,0.15);color:#FFD700}
        .segment-large{background:rgba(232,76,61,0.15);color:#FF8A65}
        .segment-mid{background:rgba(147,51,234,0.15);color:#A78BFA}
        .segment-emerging{background:rgba(16,185,129,0.15);color:#34D399}
        .opportunity-cell{text-align:center}
        .opp-badge{display:inline-block;padding:4px 10px;border-radius:12px;font-size:0.7rem;font-weight:700;text-transform:uppercase}
        .opp-hot{background:rgba(255,107,107,0.2);color:#FF6B6B}
        .opp-warm{background:rgba(255,184,0,0.2);color:#FFB800}
        .opp-watch{background:rgba(77,163,255,0.2);color:#4DA3FF}
        .table-footer{padding:16px;border-top:1px solid var(--border-primary);font-size:0.75rem;color:var(--text-muted)}
        .table-footer strong{color:var(--text-secondary)}
        .data-source{text-align:center;margin-top:20px;color:var(--text-dim);font-size:0.75rem;line-height:1.6}
        .back-link{display:inline-flex;align-items:center;gap:8px;color:var(--text-secondary);text-decoration:none;font-size:0.9rem;margin-bottom:20px}
        .back-link:hover{color:var(--accent-primary)}
        .ratio-header{display:flex;flex-direction:column;align-items:center}
        .ratio-subtext{font-size:0.6rem;font-weight:400;opacity:0.7}
    </style>
</head>
<body>
    <nav class="sidebar">
        <div class="logo"><span class="logo-icon">ğŸ¦</span><span class="logo-text">LATAM Intel</span></div>
        <ul class="nav-menu">
            <li class="nav-item" onclick="window.location.href='index.html'"><span class="nav-icon">ğŸ“Š</span><span>Dashboard</span></li>
            <li class="nav-item active"><span class="nav-icon">ğŸ†</span><span>Top 100 Ranking</span></li>
            <li class="nav-item" onclick="window.location.href='ecuador/index.html'"><span class="nav-icon">ğŸ‡ªğŸ‡¨</span><span>Ecuador</span></li>
            <li class="nav-item" onclick="window.location.href='peru/index.html'"><span class="nav-icon">ğŸ‡µğŸ‡ª</span><span>Peru</span></li>
            <li class="nav-item" onclick="window.location.href='executives/index.html'"><span class="nav-icon">ğŸ‘”</span><span>Executives</span></li>
        </ul>
        <div class="nav-footer"><p>Built by Mr Zonix</p><p class="version">v4.1 â€¢ Ratios</p></div>
    </nav>
    <main class="main-content">
        <a href="index.html" class="back-link">â† Volver al Dashboard</a>
        <div class="ranking-header">
            <h1>ğŸ† Top 100 Bancos LATAM</h1>
            <p class="subtitle">Ranking EstratÃ©gico con Ratios Financieros | Inteligencia para Venta de Infraestructura</p>
        </div>
        
        <div class="data-context">
            <div class="context-item">
                <div class="context-label">AÃ±o Fiscal</div>
                <div class="context-value">2023 (cierre) / 2024 (parcial)</div>
            </div>
            <div class="context-item">
                <div class="context-label">Moneda</div>
                <div class="context-value">USD (DÃ³lares Americanos)</div>
            </div>
            <div class="context-item">
                <div class="context-label">ConversiÃ³n FX</div>
                <div class="context-value">Tipo de cambio promedio 2023</div>
            </div>
            <div class="context-item">
                <div class="context-label">Ãšltima actualizaciÃ³n</div>
                <div class="context-value">Febrero 2025</div>
            </div>
        </div>
        
        <div class="stats-row">
            <div class="mini-stat"><div class="mini-stat-value" id="total-assets">$5.2T</div><div class="mini-stat-label">Activos Totales</div></div>
            <div class="mini-stat"><div class="mini-stat-value" id="countries-count">10</div><div class="mini-stat-label">PaÃ­ses</div></div>
            <div class="mini-stat"><div class="mini-stat-value" id="hot-count">0</div><div class="mini-stat-label">ğŸ”¥ Oportunidades HOT</div></div>
            <div class="mini-stat"><div class="mini-stat-value" id="avg-roe">0%</div><div class="mini-stat-label">ROE Promedio</div></div>
        </div>
        
        <div class="legend-bar">
            <div class="legend-item"><span class="legend-dot hot"></span> HOT = Alta capacidad + Alta necesidad</div>
            <div class="legend-item"><span class="legend-dot warm"></span> WARM = Buen potencial, evaluar timing</div>
            <div class="legend-item"><span class="legend-dot watch"></span> WATCH = Monitorear para futuro</div>
        </div>
        
        <div class="filters-bar">
            <div class="filter-group"><label>PaÃ­s:</label><select id="country-filter" class="filter-select"><option value="">Todos</option><option value="BR">ğŸ‡§ğŸ‡· Brasil</option><option value="MX">ğŸ‡²ğŸ‡½ MÃ©xico</option><option value="CL">ğŸ‡¨ğŸ‡± Chile</option><option value="CO">ğŸ‡¨ğŸ‡´ Colombia</option><option value="PE">ğŸ‡µğŸ‡ª PerÃº</option><option value="AR">ğŸ‡¦ğŸ‡· Argentina</option><option value="EC">ğŸ‡ªğŸ‡¨ Ecuador</option><option value="PA">ğŸ‡µğŸ‡¦ PanamÃ¡</option><option value="CR">ğŸ‡¨ğŸ‡· Costa Rica</option><option value="DO">ğŸ‡©ğŸ‡´ Rep. Dom.</option></select></div>
            <div class="filter-group"><label>Segmento:</label><select id="segment-filter" class="filter-select"><option value="">Todos</option><option value="mega">Mega (>$200B)</option><option value="large">Large ($50-200B)</option><option value="mid">Mid ($20-50B)</option><option value="emerging">Emerging</option></select></div>
            <div class="filter-group"><label>Oportunidad:</label><select id="opp-filter" class="filter-select"><option value="">Todas</option><option value="hot">ğŸ”¥ Solo HOT</option><option value="warm">ğŸŸ¡ Solo WARM</option></select></div>
            <div class="filter-group"><label>Buscar:</label><input type="text" id="search" class="filter-input" placeholder="Nombre..." style="width:140px"></div>
        </div>
        
        <div class="ranking-table-container">
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th data-sort="rank">#</th>
                        <th data-sort="name">Banco</th>
                        <th data-sort="country">PaÃ­s</th>
                        <th data-sort="assets">Activos<span class="tooltip">Activos totales en USD billones. Indica escala y demanda base de infraestructura.</span></th>
                        <th data-sort="roe"><div class="ratio-header">ROE<span class="ratio-subtext">2023</span></div><span class="tooltip">Return on Equity. >15% = excelente capacidad de inversiÃ³n. <8% = limitado.</span></th>
                        <th data-sort="cir"><div class="ratio-header">CIR<span class="ratio-subtext">2023</span></div><span class="tooltip">Cost-to-Income Ratio. >55% = presiÃ³n de eficiencia, necesitan automatizar. <45% = eficientes.</span></th>
                        <th data-sort="npl"><div class="ratio-header">NPL<span class="ratio-subtext">2023</span></div><span class="tooltip">Non-Performing Loans. >4% = cartera deteriorada, urgencia en analytics/riesgo. <2% = saludable.</span></th>
                        <th data-sort="growth"><div class="ratio-header">Crec. 3Y<span class="ratio-subtext">CAGR</span></div><span class="tooltip">Crecimiento anual compuesto de activos (3 aÃ±os). >10% = expansiÃ³n agresiva, necesitan escalar infra.</span></th>
                        <th data-sort="segment">Segmento</th>
                        <th data-sort="opportunity">Oportunidad<span class="tooltip">Score calculado: ROE alto + CIR alto + Crecimiento = HOT. Combina capacidad de pago con necesidad de modernizaciÃ³n.</span></th>
                    </tr>
                </thead>
                <tbody id="banks-body"></tbody>
            </table>
            <div class="table-footer">
                <strong>InterpretaciÃ³n de Ratios:</strong><br>
                â€¢ <strong>ROE</strong> (Return on Equity): Rentabilidad â†’ capacidad de inversiÃ³n. Verde >12%, Amarillo 8-12%, Rojo <8%<br>
                â€¢ <strong>CIR</strong> (Cost-to-Income): Eficiencia operativa. Rojo >55% = necesitan automatizar, Verde <45% = ya eficientes<br>
                â€¢ <strong>NPL</strong> (Non-Performing Loans): Salud de cartera. Rojo >4% = urgencia en gestiÃ³n de riesgo<br>
                â€¢ <strong>Crecimiento 3Y</strong>: ExpansiÃ³n â†’ presiÃ³n de escalabilidad en infraestructura
            </div>
        </div>
        
        <div class="data-source">
            <strong>Fuentes:</strong> Reportes anuales auditados 2023 | Superintendencias bancarias de cada paÃ­s | The Banker Top 1000 | S&P Global | Fitch Ratings | Moody's<br>
            <strong>MetodologÃ­a:</strong> Activos convertidos a USD con tipo de cambio promedio anual 2023. Ratios calculados segÃºn estÃ¡ndares IFRS/US GAAP segÃºn reporte de cada entidad.<br>
            <strong>Score de Oportunidad:</strong> Algoritmo propietario que pondera ROE (capacidad), CIR (necesidad de eficiencia), NPL (urgencia) y crecimiento (presiÃ³n de escala).
        </div>
    </main>
    <script>
const banks=[
// BRAZIL
{name:"ItaÃº Unibanco",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:460,roe:18.5,cir:42,npl:2.8,growth:8,segment:"mega",ownership:"Privado"},
{name:"Banco do Brasil",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:420,roe:21.0,cir:48,npl:2.5,growth:9,segment:"mega",ownership:"Estatal"},
{name:"Caixa EconÃ´mica Federal",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:380,roe:12.5,cir:52,npl:1.9,growth:7,segment:"mega",ownership:"Estatal"},
{name:"Bradesco",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:350,roe:10.2,cir:48,npl:4.8,growth:4,segment:"mega",ownership:"Privado"},
{name:"Santander Brasil",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:210,roe:14.8,cir:41,npl:3.1,growth:6,segment:"mega",ownership:"Multinacional"},
{name:"BTG Pactual",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:95,roe:22.5,cir:38,npl:1.2,growth:18,segment:"large",ownership:"Privado"},
{name:"Banco Safra",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:75,roe:16.2,cir:35,npl:1.5,growth:10,segment:"large",ownership:"Privado"},
{name:"Banco Votorantim",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:55,roe:11.5,cir:52,npl:3.8,growth:5,segment:"large",ownership:"Privado"},
{name:"Banco Inter",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:42,roe:8.5,cir:58,npl:4.2,growth:35,segment:"mid",ownership:"Privado"},
{name:"Nubank",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:38,roe:28.0,cir:45,npl:5.5,growth:55,segment:"mid",ownership:"Privado"},
{name:"Banco Pan",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:28,roe:9.5,cir:55,npl:5.8,growth:12,segment:"mid",ownership:"Privado"},
{name:"Banco BMG",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:22,roe:7.5,cir:62,npl:4.5,growth:3,segment:"mid",ownership:"Privado"},
{name:"C6 Bank",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:18,roe:5.0,cir:72,npl:6.2,growth:45,segment:"emerging",ownership:"Privado"},
{name:"Banco Original",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:15,roe:4.5,cir:68,npl:5.0,growth:22,segment:"emerging",ownership:"Privado"},
{name:"Banco Daycoval",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:14,roe:15.5,cir:42,npl:2.2,growth:8,segment:"emerging",ownership:"Privado"},
{name:"Banco ABC Brasil",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:12,roe:13.8,cir:38,npl:1.8,growth:9,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Pine",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:8,roe:6.5,cir:58,npl:3.5,growth:2,segment:"emerging",ownership:"Privado"},
{name:"Banco Sofisa",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:7,roe:12.0,cir:48,npl:2.0,growth:15,segment:"emerging",ownership:"Privado"},
// MEXICO
{name:"BBVA MÃ©xico",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:190,roe:24.5,cir:36,npl:2.2,growth:11,segment:"large",ownership:"Multinacional"},
{name:"Banorte",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:175,roe:22.0,cir:38,npl:1.8,growth:12,segment:"large",ownership:"Privado"},
{name:"Santander MÃ©xico",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:120,roe:16.5,cir:42,npl:2.5,growth:8,segment:"large",ownership:"Multinacional"},
{name:"Citibanamex",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:115,roe:12.0,cir:52,npl:2.8,growth:4,segment:"large",ownership:"Multinacional"},
{name:"HSBC MÃ©xico",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:52,roe:10.5,cir:58,npl:3.2,growth:5,segment:"large",ownership:"Multinacional"},
{name:"Inbursa",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:45,roe:14.0,cir:32,npl:3.5,growth:6,segment:"mid",ownership:"Privado"},
{name:"Nacional Financiera",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:42,roe:8.5,cir:45,npl:2.0,growth:5,segment:"mid",ownership:"Estatal"},
{name:"Scotiabank MÃ©xico",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:38,roe:11.5,cir:52,npl:2.8,growth:4,segment:"mid",ownership:"Multinacional"},
{name:"Bancomext",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:35,roe:6.5,cir:48,npl:3.5,growth:3,segment:"mid",ownership:"Estatal"},
{name:"Banco Azteca",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:28,roe:8.0,cir:65,npl:8.5,growth:2,segment:"mid",ownership:"Privado"},
{name:"Banregio",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:22,roe:19.5,cir:42,npl:1.5,growth:14,segment:"mid",ownership:"Privado"},
{name:"Banco del BajÃ­o",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:18,roe:18.0,cir:44,npl:1.8,growth:12,segment:"emerging",ownership:"Privado"},
{name:"Afirme",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:14,roe:12.5,cir:52,npl:2.5,growth:8,segment:"emerging",ownership:"Privado"},
{name:"Banco Multiva",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:8,roe:9.0,cir:55,npl:3.0,growth:6,segment:"emerging",ownership:"Privado"},
// CHILE
{name:"Banco de Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:95,roe:18.5,cir:42,npl:1.8,growth:6,segment:"large",ownership:"Privado"},
{name:"BancoEstado",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:85,roe:8.5,cir:58,npl:2.2,growth:5,segment:"large",ownership:"Estatal"},
{name:"Santander Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:80,roe:16.0,cir:40,npl:2.0,growth:7,segment:"large",ownership:"Multinacional"},
{name:"Scotiabank Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:65,roe:12.5,cir:48,npl:2.5,growth:4,segment:"large",ownership:"Multinacional"},
{name:"BCI",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:62,roe:14.5,cir:45,npl:1.9,growth:8,segment:"large",ownership:"Privado"},
{name:"Banco ItaÃº Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:45,roe:10.5,cir:52,npl:2.8,growth:5,segment:"mid",ownership:"Multinacional"},
{name:"Banco Security",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:18,roe:11.0,cir:48,npl:2.2,growth:7,segment:"emerging",ownership:"Privado"},
{name:"Bice",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:16,roe:10.0,cir:50,npl:1.5,growth:6,segment:"emerging",ownership:"Privado"},
{name:"Banco Falabella Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:12,roe:8.5,cir:55,npl:4.5,growth:3,segment:"emerging",ownership:"Privado"},
{name:"Banco Consorcio",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:8,roe:9.5,cir:52,npl:2.0,growth:10,segment:"emerging",ownership:"Privado"},
{name:"Banco Ripley Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:6,roe:5.0,cir:68,npl:6.5,growth:1,segment:"emerging",ownership:"Privado"},
// COLOMBIA
{name:"Bancolombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:85,roe:14.5,cir:48,npl:3.8,growth:7,segment:"large",ownership:"Privado"},
{name:"Banco de BogotÃ¡",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:55,roe:13.0,cir:45,npl:3.2,growth:6,segment:"large",ownership:"Privado"},
{name:"Davivienda",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:48,roe:11.5,cir:52,npl:4.2,growth:5,segment:"mid",ownership:"Privado"},
{name:"BBVA Colombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:28,roe:12.0,cir:48,npl:3.5,growth:6,segment:"mid",ownership:"Multinacional"},
{name:"Banco Agrario",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:22,roe:5.5,cir:65,npl:5.8,growth:4,segment:"mid",ownership:"Estatal"},
{name:"Banco de Occidente",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:18,roe:10.5,cir:50,npl:3.8,growth:4,segment:"emerging",ownership:"Privado"},
{name:"Banco Popular Colombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:15,roe:9.0,cir:55,npl:4.0,growth:3,segment:"emerging",ownership:"Privado"},
{name:"Scotiabank Colpatria",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:14,roe:8.5,cir:58,npl:4.5,growth:2,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Pichincha Colombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:12,roe:6.0,cir:62,npl:5.2,growth:8,segment:"emerging",ownership:"Multinacional"},
{name:"Banco ItaÃº Colombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:10,roe:7.5,cir:55,npl:3.8,growth:5,segment:"emerging",ownership:"Multinacional"},
{name:"Banco AV Villas",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:8,roe:8.0,cir:58,npl:4.2,growth:3,segment:"emerging",ownership:"Privado"},
{name:"Banco Caja Social",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:7,roe:6.5,cir:62,npl:5.0,growth:2,segment:"emerging",ownership:"Privado"},
// PERU
{name:"Banco de CrÃ©dito del PerÃº (BCP)",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:62,roe:18.5,cir:38,npl:3.5,growth:8,segment:"large",ownership:"Privado"},
{name:"BBVA PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:32,roe:15.0,cir:42,npl:3.8,growth:6,segment:"mid",ownership:"Multinacional"},
{name:"Scotiabank PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:28,roe:12.5,cir:48,npl:4.2,growth:4,segment:"mid",ownership:"Multinacional"},
{name:"Interbank",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:22,roe:16.0,cir:45,npl:3.2,growth:9,segment:"mid",ownership:"Privado"},
{name:"Banco de la NaciÃ³n PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:18,roe:4.5,cir:62,npl:2.0,growth:5,segment:"emerging",ownership:"Estatal"},
{name:"MiBanco PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:8,roe:15.5,cir:55,npl:5.5,growth:12,segment:"emerging",ownership:"Privado"},
{name:"Banco Pichincha PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:5,roe:5.5,cir:65,npl:6.0,growth:4,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Falabella PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:4,roe:7.0,cir:58,npl:5.5,growth:3,segment:"emerging",ownership:"Privado"},
{name:"Banco GNB PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:4,roe:8.5,cir:52,npl:4.0,growth:6,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Ripley PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:3,roe:4.0,cir:72,npl:7.5,growth:0,segment:"emerging",ownership:"Privado"},
// ARGENTINA
{name:"Banco de la NaciÃ³n Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:45,roe:35.0,cir:55,npl:1.5,growth:15,segment:"mid",ownership:"Estatal"},
{name:"Banco Galicia",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:28,roe:32.0,cir:48,npl:2.0,growth:18,segment:"mid",ownership:"Privado"},
{name:"Banco Provincia",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:25,roe:28.0,cir:58,npl:2.2,growth:12,segment:"mid",ownership:"Estatal"},
{name:"Banco Macro",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:22,roe:30.0,cir:45,npl:1.8,growth:16,segment:"mid",ownership:"Privado"},
{name:"Santander Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:20,roe:25.0,cir:52,npl:2.5,growth:10,segment:"mid",ownership:"Multinacional"},
{name:"BBVA Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:18,roe:22.0,cir:55,npl:2.8,growth:8,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Ciudad",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:15,roe:18.0,cir:62,npl:1.5,growth:10,segment:"emerging",ownership:"Estatal"},
{name:"HSBC Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:12,roe:15.0,cir:58,npl:2.2,growth:6,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Patagonia",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:10,roe:20.0,cir:48,npl:1.8,growth:12,segment:"emerging",ownership:"Multinacional"},
{name:"ICBC Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:9,roe:16.0,cir:52,npl:2.0,growth:8,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Supervielle",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:8,roe:18.5,cir:58,npl:2.5,growth:10,segment:"emerging",ownership:"Privado"},
{name:"Banco Comafi",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:5,roe:14.0,cir:55,npl:3.0,growth:6,segment:"emerging",ownership:"Privado"},
// ECUADOR
{name:"Banco Pichincha Ecuador",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:18,roe:12.5,cir:52,npl:3.2,growth:6,segment:"emerging",ownership:"Privado"},
{name:"Banco Guayaquil",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:8,roe:14.0,cir:48,npl:2.8,growth:8,segment:"emerging",ownership:"Privado"},
{name:"Produbanco",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:7,roe:13.5,cir:45,npl:2.5,growth:9,segment:"emerging",ownership:"Privado"},
{name:"Banco del PacÃ­fico",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:6,roe:8.0,cir:58,npl:3.5,growth:4,segment:"emerging",ownership:"Estatal"},
{name:"Banco Internacional EC",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:5,roe:11.0,cir:50,npl:2.8,growth:7,segment:"emerging",ownership:"Privado"},
{name:"Banco Bolivariano",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:4,roe:10.5,cir:52,npl:3.0,growth:6,segment:"emerging",ownership:"Privado"},
// PANAMA
{name:"Banco General PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:22,roe:14.5,cir:42,npl:1.8,growth:7,segment:"mid",ownership:"Privado"},
{name:"Banistmo",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:15,roe:11.0,cir:52,npl:2.5,growth:5,segment:"emerging",ownership:"Multinacional"},
{name:"BAC PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:12,roe:13.5,cir:45,npl:2.0,growth:8,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Nacional de PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:10,roe:6.5,cir:62,npl:3.0,growth:4,segment:"emerging",ownership:"Estatal"},
{name:"Global Bank PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:8,roe:12.0,cir:48,npl:2.2,growth:9,segment:"emerging",ownership:"Privado"},
{name:"Multibank PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:5,roe:10.0,cir:52,npl:2.8,growth:6,segment:"emerging",ownership:"Privado"},
// COSTA RICA
{name:"Banco Nacional de CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:18,roe:8.5,cir:58,npl:2.5,growth:5,segment:"emerging",ownership:"Estatal"},
{name:"BAC Credomatic CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:14,roe:16.0,cir:42,npl:2.0,growth:10,segment:"emerging",ownership:"Multinacional"},
{name:"Banco de Costa Rica",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:12,roe:7.5,cir:62,npl:2.8,growth:4,segment:"emerging",ownership:"Estatal"},
{name:"Banco Popular CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:10,roe:6.0,cir:65,npl:3.2,growth:3,segment:"emerging",ownership:"Cooperativo"},
{name:"Scotiabank CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:6,roe:10.5,cir:52,npl:2.5,growth:5,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Promerica CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:4,roe:11.0,cir:48,npl:3.0,growth:8,segment:"emerging",ownership:"Privado"},
// DOMINICAN REPUBLIC
{name:"Banco Popular Dominicano",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:16,roe:18.0,cir:45,npl:1.8,growth:10,segment:"emerging",ownership:"Privado"},
{name:"Banreservas",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:14,roe:12.0,cir:52,npl:2.5,growth:8,segment:"emerging",ownership:"Estatal"},
{name:"Banco BHD LeÃ³n",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:10,roe:15.5,cir:48,npl:2.0,growth:9,segment:"emerging",ownership:"Privado"},
{name:"Scotiabank RD",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:5,roe:11.0,cir:55,npl:2.8,growth:5,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Santa Cruz",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:3,roe:9.5,cir:58,npl:3.2,growth:6,segment:"emerging",ownership:"Privado"}
];

// Calculate opportunity score
function calcOpportunity(b) {
    let score = 0;
    // ROE: capacity to invest (higher = better)
    if (b.roe >= 15) score += 3;
    else if (b.roe >= 10) score += 2;
    else if (b.roe >= 7) score += 1;
    // CIR: need for efficiency (higher = more need)
    if (b.cir >= 55) score += 3;
    else if (b.cir >= 48) score += 2;
    else if (b.cir >= 42) score += 1;
    // Growth: scalability pressure
    if (b.growth >= 12) score += 2;
    else if (b.growth >= 8) score += 1;
    // NPL: urgency for risk/analytics
    if (b.npl >= 4) score += 1;
    // Size bonus for large deals
    if (b.assets >= 50) score += 1;
    
    if (score >= 7) return 'hot';
    if (score >= 4) return 'warm';
    return 'watch';
}

banks.forEach(b => b.opportunity = calcOpportunity(b));
banks.sort((a,b) => b.assets - a.assets);
banks.forEach((b,i) => b.rank = i+1);

let currentSort = {column:'assets',direction:'desc'};

function getSegmentClass(s){return{'mega':'segment-mega','large':'segment-large','mid':'segment-mid','emerging':'segment-emerging'}[s]||'';}
function getSegmentLabel(s){return{'mega':'Mega','large':'Large','mid':'Mid','emerging':'Emerging'}[s]||s;}
function getOppClass(o){return{'hot':'opp-hot','warm':'opp-warm','watch':'opp-watch'}[o]||'';}
function getOppLabel(o){return{'hot':'ğŸ”¥ HOT','warm':'ğŸŸ¡ WARM','watch':'ğŸ‘ WATCH'}[o]||o;}

function getRoeClass(v){if(v>=12)return'ratio-good';if(v>=8)return'ratio-warning';return'ratio-bad';}
function getCirClass(v){if(v>=55)return'ratio-bad';if(v>=45)return'ratio-warning';return'ratio-good';}
function getNplClass(v){if(v>=4)return'ratio-bad';if(v>=2.5)return'ratio-warning';return'ratio-good';}
function getGrowthClass(v){return v>=8?'growth-positive':v<=2?'growth-negative':'ratio-neutral';}

function renderTable(data){
    document.getElementById('banks-body').innerHTML=data.map(b=>`
        <tr>
            <td class="rank-cell ${b.rank<=3?'rank-'+b.rank:''}">${b.rank}</td>
            <td class="bank-name-cell">${b.name}</td>
            <td><div class="country-cell"><span class="flag">${b.flag}</span>${b.countryName}</div></td>
            <td class="assets-cell">$${b.assets}B</td>
            <td class="ratio-cell ${getRoeClass(b.roe)}">${b.roe.toFixed(1)}%</td>
            <td class="ratio-cell ${getCirClass(b.cir)}">${b.cir}%</td>
            <td class="ratio-cell ${getNplClass(b.npl)}">${b.npl.toFixed(1)}%</td>
            <td class="ratio-cell ${getGrowthClass(b.growth)}">${b.growth>0?'+':''}${b.growth}%</td>
            <td><span class="segment-badge ${getSegmentClass(b.segment)}">${getSegmentLabel(b.segment)}</span></td>
            <td class="opportunity-cell"><span class="opp-badge ${getOppClass(b.opportunity)}">${getOppLabel(b.opportunity)}</span></td>
        </tr>
    `).join('');
}

function filterAndSort(){
    const cf=document.getElementById('country-filter').value;
    const sf=document.getElementById('segment-filter').value;
    const of=document.getElementById('opp-filter').value;
    const st=document.getElementById('search').value.toLowerCase();
    let f=banks.filter(b=>(!cf||b.country===cf)&&(!sf||b.segment===sf)&&(!of||b.opportunity===of)&&(!st||b.name.toLowerCase().includes(st)));
    f.forEach((b,i)=>b.rank=i+1);
    renderTable(f);
    updateStats(f);
}

function updateStats(data){
    const t=data.reduce((s,b)=>s+b.assets,0);
    const avgRoe=data.length?data.reduce((s,b)=>s+b.roe,0)/data.length:0;
    document.getElementById('total-assets').textContent=t>=1000?'$'+(t/1000).toFixed(1)+'T':'$'+t+'B';
    document.getElementById('countries-count').textContent=new Set(data.map(b=>b.country)).size;
    document.getElementById('hot-count').textContent=data.filter(b=>b.opportunity==='hot').length;
    document.getElementById('avg-roe').textContent=avgRoe.toFixed(1)+'%';
}

function sortTable(col){
    if(currentSort.column===col)currentSort.direction=currentSort.direction==='asc'?'desc':'asc';
    else{currentSort.column=col;currentSort.direction=['assets','roe','growth'].includes(col)?'desc':'asc';}
    const sf={
        'rank':(a,b)=>a.rank-b.rank,
        'name':(a,b)=>a.name.localeCompare(b.name),
        'country':(a,b)=>a.countryName.localeCompare(b.countryName),
        'assets':(a,b)=>a.assets-b.assets,
        'roe':(a,b)=>a.roe-b.roe,
        'cir':(a,b)=>a.cir-b.cir,
        'npl':(a,b)=>a.npl-b.npl,
        'growth':(a,b)=>a.growth-b.growth,
        'segment':(a,b)=>a.segment.localeCompare(b.segment),
        'opportunity':(a,b)=>{const o={hot:3,warm:2,watch:1};return(o[a.opportunity]||0)-(o[b.opportunity]||0);}
    };
    banks.sort((a,b)=>currentSort.direction==='asc'?sf[col](a,b):-sf[col](a,b));
    banks.forEach((b,i)=>b.rank=i+1);
    document.querySelectorAll('th').forEach(th=>{th.classList.remove('sorted-asc','sorted-desc');if(th.dataset.sort===col)th.classList.add(currentSort.direction==='asc'?'sorted-asc':'sorted-desc');});
    filterAndSort();
}

document.getElementById('country-filter').addEventListener('change',filterAndSort);
document.getElementById('segment-filter').addEventListener('change',filterAndSort);
document.getElementById('opp-filter').addEventListener('change',filterAndSort);
document.getElementById('search').addEventListener('input',filterAndSort);
document.querySelectorAll('th[data-sort]').forEach(th=>th.addEventListener('click',()=>sortTable(th.dataset.sort)));

renderTable(banks);
updateStats(banks);
    </script>
</body>
</html>
