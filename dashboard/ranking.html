<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 100 Bancos LATAM | Ranking EstratÃ©gico 2025</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .ranking-header{text-align:center;margin-bottom:32px}
        .ranking-header h1{font-size:2.2rem;background:var(--accent-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px}
        .ranking-header .subtitle{color:var(--text-secondary);font-size:1rem}
        .data-context{background:var(--bg-card);border:1px solid var(--border-primary);border-radius:var(--radius-md);padding:16px 24px;margin-bottom:24px;display:flex;flex-wrap:wrap;gap:24px;justify-content:center;align-items:center}
        .context-item{text-align:center}
        .context-label{font-size:0.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.5px}
        .context-value{font-size:0.95rem;color:var(--text-primary);font-weight:500}
        .stats-row{display:flex;gap:16px;margin-bottom:24px;flex-wrap:wrap;justify-content:center}
        .mini-stat{background:var(--bg-card);padding:14px 20px;border-radius:var(--radius-md);text-align:center;border:1px solid var(--border-primary);min-width:130px}
        .mini-stat-value{font-size:1.4rem;font-weight:700;color:var(--accent-primary)}
        .mini-stat-label{font-size:0.75rem;color:var(--text-muted);margin-top:4px}
        .filters-bar{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap;align-items:center;justify-content:center}
        .filter-group{display:flex;align-items:center;gap:6px}
        .filter-group label{font-size:0.8rem;color:var(--text-muted)}
        .filter-select,.filter-input{background:var(--bg-card);border:1px solid var(--border-primary);color:var(--text-primary);padding:8px 12px;border-radius:var(--radius-sm);font-size:0.85rem;font-family:inherit;outline:none}
        .filter-select:focus,.filter-input:focus{border-color:var(--accent-primary)}
        .legend-bar{display:flex;gap:20px;justify-content:center;margin-bottom:16px;flex-wrap:wrap}
        .legend-item{display:flex;align-items:center;gap:6px;font-size:0.8rem;color:var(--text-secondary)}
        .legend-dot{width:10px;height:10px;border-radius:50%}
        .legend-dot.hot{background:#FF6B6B}
        .legend-dot.warm{background:#FFB800}
        .legend-dot.watch{background:#4DA3FF}
        .ranking-table-container{background:var(--bg-card);border-radius:var(--radius-lg);overflow-x:auto;border:1px solid var(--border-primary)}
        .ranking-table{width:100%;border-collapse:collapse;min-width:1300px}
        .ranking-table th{background:rgba(232,76,61,0.1);padding:12px 8px;text-align:left;font-weight:600;color:var(--accent-primary);font-size:0.7rem;text-transform:uppercase;cursor:pointer;border-bottom:1px solid var(--border-primary);white-space:nowrap}
        .ranking-table th:hover{background:rgba(232,76,61,0.15)}
        .ranking-table th.sorted-asc::after{content:' â–²'}
        .ranking-table th.sorted-desc::after{content:' â–¼'}
        .ranking-table td{padding:10px 8px;border-bottom:1px solid var(--border-primary);font-size:0.8rem}
        .ranking-table tbody tr:hover{background:rgba(232,76,61,0.05)}
        .rank-cell{font-weight:700;text-align:center;width:35px;color:var(--text-muted)}
        .rank-1{color:#FFD700!important}
        .rank-2{color:#C0C0C0!important}
        .rank-3{color:#CD7F32!important}
        .bank-name-cell{font-weight:600;color:var(--text-primary);max-width:180px}
        .country-cell{white-space:nowrap}
        .flag{font-size:1rem}
        .assets-cell{font-weight:600;color:var(--accent-primary);text-align:right;font-family:var(--font-mono)}
        .ratio-cell{text-align:center;font-family:var(--font-mono);font-size:0.75rem}
        .ratio-good{color:#34D399}
        .ratio-warning{color:#FFB800}
        .ratio-bad{color:#FF6B6B}
        .ratio-neutral{color:var(--text-secondary)}
        .growth-positive{color:#34D399}
        .growth-negative{color:#FF6B6B}
        .year-badge{font-size:0.6rem;color:var(--text-dim);display:block}
        .segment-badge{display:inline-block;padding:3px 8px;border-radius:10px;font-size:0.65rem;font-weight:600}
        .segment-mega{background:rgba(255,215,0,0.15);color:#FFD700}
        .segment-large{background:rgba(232,76,61,0.15);color:#FF8A65}
        .segment-mid{background:rgba(147,51,234,0.15);color:#A78BFA}
        .segment-emerging{background:rgba(16,185,129,0.15);color:#34D399}
        .opportunity-cell{text-align:center}
        .opp-badge{display:inline-block;padding:4px 10px;border-radius:12px;font-size:0.65rem;font-weight:700;text-transform:uppercase}
        .opp-hot{background:rgba(255,107,107,0.2);color:#FF6B6B}
        .opp-warm{background:rgba(255,184,0,0.2);color:#FFB800}
        .opp-watch{background:rgba(77,163,255,0.2);color:#4DA3FF}
        .table-footer{padding:16px;border-top:1px solid var(--border-primary);font-size:0.7rem;color:var(--text-muted);line-height:1.8}
        .table-footer strong{color:var(--text-secondary)}
        .data-source{text-align:center;margin-top:20px;color:var(--text-dim);font-size:0.7rem;line-height:1.6}
        .back-link{display:inline-flex;align-items:center;gap:8px;color:var(--text-secondary);text-decoration:none;font-size:0.9rem;margin-bottom:20px}
        .back-link:hover{color:var(--accent-primary)}
    </style>
</head>
<body>
    <nav class="sidebar">
        <div class="logo"><span class="logo-icon">ğŸ¦</span><span class="logo-text">LATAM Intel</span></div>
        <ul class="nav-menu">
            <li class="nav-item" onclick="window.location.href='index.html'"><span class="nav-icon">ğŸ“Š</span><span>Dashboard</span></li>
            <li class="nav-item active"><span class="nav-icon">ğŸ†</span><span>Top 100 Ranking</span></li>
            <li class="nav-item" onclick="window.location.href='ecuador/index.html'"><span class="nav-icon">ğŸ‡ªğŸ‡¨</span><span>Ecuador</span></li>
            <li class="nav-item" onclick="window.location.href='peru/index.html'"><span class="nav-icon">ğŸ‡µğŸ‡ª</span><span>Peru</span></li>
            <li class="nav-item" onclick="window.location.href='executives/index.html'"><span class="nav-icon">ğŸ‘”</span><span>Executives</span></li>
        </ul>
        <div class="nav-footer"><p>Built by Mr Zonix</p><p class="version">v4.2</p></div>
    </nav>
    <main class="main-content">
        <a href="index.html" class="back-link">â† Volver al Dashboard</a>
        <div class="ranking-header">
            <h1>ğŸ† Top 100 Bancos LATAM 2025</h1>
            <p class="subtitle">Ranking EstratÃ©gico con Ratios Financieros | Fuente: The Banker Top 200 LATAM 2025</p>
        </div>
        
        <div class="data-context">
            <div class="context-item">
                <div class="context-label">Fuente Principal</div>
                <div class="context-value">The Banker Top 200 LATAM (Oct 2025)</div>
            </div>
            <div class="context-item">
                <div class="context-label">Datos Financieros</div>
                <div class="context-value">FY2024 / 9M2025 (segÃºn disponibilidad)</div>
            </div>
            <div class="context-item">
                <div class="context-label">Moneda</div>
                <div class="context-value">USD (TC promedio del perÃ­odo)</div>
            </div>
            <div class="context-item">
                <div class="context-label">Ãšltima revisiÃ³n</div>
                <div class="context-value">Febrero 2026</div>
            </div>
        </div>
        
        <div class="stats-row">
            <div class="mini-stat"><div class="mini-stat-value" id="total-assets">$5.2T</div><div class="mini-stat-label">Activos Totales</div></div>
            <div class="mini-stat"><div class="mini-stat-value" id="countries-count">10</div><div class="mini-stat-label">PaÃ­ses</div></div>
            <div class="mini-stat"><div class="mini-stat-value" id="hot-count">0</div><div class="mini-stat-label">ğŸ”¥ HOT</div></div>
            <div class="mini-stat"><div class="mini-stat-value" id="avg-roe">0%</div><div class="mini-stat-label">ROE Promedio</div></div>
        </div>
        
        <div class="legend-bar">
            <div class="legend-item"><span class="legend-dot hot"></span> HOT = Alta capacidad + Alta necesidad</div>
            <div class="legend-item"><span class="legend-dot warm"></span> WARM = Buen potencial</div>
            <div class="legend-item"><span class="legend-dot watch"></span> WATCH = Monitorear</div>
        </div>
        
        <div class="filters-bar">
            <div class="filter-group"><label>PaÃ­s:</label><select id="country-filter" class="filter-select"><option value="">Todos</option><option value="BR">ğŸ‡§ğŸ‡· Brasil</option><option value="MX">ğŸ‡²ğŸ‡½ MÃ©xico</option><option value="CL">ğŸ‡¨ğŸ‡± Chile</option><option value="CO">ğŸ‡¨ğŸ‡´ Colombia</option><option value="PE">ğŸ‡µğŸ‡ª PerÃº</option><option value="AR">ğŸ‡¦ğŸ‡· Argentina</option><option value="EC">ğŸ‡ªğŸ‡¨ Ecuador</option><option value="PA">ğŸ‡µğŸ‡¦ PanamÃ¡</option><option value="CR">ğŸ‡¨ğŸ‡· Costa Rica</option><option value="DO">ğŸ‡©ğŸ‡´ Rep. Dom.</option></select></div>
            <div class="filter-group"><label>Segmento:</label><select id="segment-filter" class="filter-select"><option value="">Todos</option><option value="mega">Mega (>$200B)</option><option value="large">Large ($50-200B)</option><option value="mid">Mid ($20-50B)</option><option value="emerging">Emerging</option></select></div>
            <div class="filter-group"><label>Oportunidad:</label><select id="opp-filter" class="filter-select"><option value="">Todas</option><option value="hot">ğŸ”¥ Solo HOT</option><option value="warm">ğŸŸ¡ Solo WARM</option></select></div>
            <div class="filter-group"><label>Buscar:</label><input type="text" id="search" class="filter-input" placeholder="Nombre..." style="width:120px"></div>
        </div>
        
        <div class="ranking-table-container">
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th data-sort="rank">#</th>
                        <th data-sort="name">Banco</th>
                        <th data-sort="country">PaÃ­s</th>
                        <th data-sort="assets">Activos</th>
                        <th data-sort="roe">ROE</th>
                        <th data-sort="cir">CIR</th>
                        <th data-sort="npl">NPL</th>
                        <th data-sort="growth">Crec.3Y</th>
                        <th data-sort="segment">Segmento</th>
                        <th data-sort="opportunity">Oportunidad</th>
                    </tr>
                </thead>
                <tbody id="banks-body"></tbody>
            </table>
            <div class="table-footer">
                <strong>InterpretaciÃ³n:</strong> ROE = Return on Equity (capacidad inversiÃ³n) | CIR = Cost-to-Income (>55% necesitan eficiencia) | NPL = Non-Performing Loans (>4% urgencia riesgo) | Crec.3Y = Crecimiento activos CAGR<br>
                <strong>Colores:</strong> Verde = favorable | Amarillo = atenciÃ³n | Rojo = urgencia/oportunidad<br>
                <strong>AÃ±o dato:</strong> Cada celda indica el aÃ±o fiscal del dato entre parÃ©ntesis
            </div>
        </div>
        
        <div class="data-source">
            <strong>Fuentes:</strong> The Banker Top 200 LATAM 2025 | Reportes anuales 2024 | Superintendencias bancarias | S&P Global | Fitch Ratings<br>
            <strong>Nota:</strong> Datos de Argentina ajustados por inflaciÃ³n segÃºn metodologÃ­a BCRA. Algunos ratios corresponden a 9M2025 cuando FY2024 no disponible.
        </div>
    </main>
    <script>
// Data with year annotations - Updated Feb 2026 with 2024/2025 data
const banks=[
// BRAZIL - Data from BCB/Earnings 2024
{name:"ItaÃº Unibanco",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:485,assetsYear:"2024",roe:20.8,roeYear:"2024",cir:40,cirYear:"2024",npl:2.6,nplYear:"2024",growth:9,segment:"mega",ownership:"Privado"},
{name:"Banco do Brasil",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:450,assetsYear:"2024",roe:21.5,roeYear:"2024",cir:46,cirYear:"2024",npl:2.4,nplYear:"2024",growth:10,segment:"mega",ownership:"Estatal"},
{name:"Caixa EconÃ´mica Federal",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:410,assetsYear:"2024",roe:13.2,roeYear:"2024",cir:50,cirYear:"2024",npl:1.8,nplYear:"2024",growth:8,segment:"mega",ownership:"Estatal"},
{name:"Bradesco",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:365,assetsYear:"2024",roe:12.5,roeYear:"2024",cir:46,cirYear:"2024",npl:4.2,nplYear:"2024",growth:5,segment:"mega",ownership:"Privado"},
{name:"Santander Brasil",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:225,assetsYear:"2024",roe:15.8,roeYear:"2024",cir:39,cirYear:"2024",npl:3.0,nplYear:"2024",growth:7,segment:"mega",ownership:"Multinacional"},
{name:"BTG Pactual",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:110,assetsYear:"2024",roe:23.5,roeYear:"2024",cir:36,cirYear:"2024",npl:1.1,nplYear:"2024",growth:20,segment:"large",ownership:"Privado"},
{name:"Banco Safra",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:82,assetsYear:"2024",roe:17.0,roeYear:"2024",cir:34,cirYear:"2024",npl:1.4,nplYear:"2024",growth:11,segment:"large",ownership:"Privado"},
{name:"Banco Votorantim",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:58,assetsYear:"2024",roe:12.0,roeYear:"2024",cir:50,cirYear:"2024",npl:3.5,nplYear:"2024",growth:6,segment:"large",ownership:"Privado"},
{name:"Nubank",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:52,assetsYear:"Q3-25",roe:30.0,roeYear:"Q3-25",cir:42,cirYear:"Q3-25",npl:5.2,nplYear:"Q3-25",growth:58,segment:"large",ownership:"Privado"},
{name:"Banco Inter",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:48,assetsYear:"Q3-25",roe:12.0,roeYear:"Q3-25",cir:52,cirYear:"Q3-25",npl:4.0,nplYear:"Q3-25",growth:38,segment:"mid",ownership:"Privado"},
{name:"Banco Pan",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:30,assetsYear:"2024",roe:10.5,roeYear:"2024",cir:54,cirYear:"2024",npl:5.5,nplYear:"2024",growth:12,segment:"mid",ownership:"Privado"},
{name:"Banco BMG",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:24,assetsYear:"2024",roe:8.0,roeYear:"2024",cir:60,cirYear:"2024",npl:4.2,nplYear:"2024",growth:4,segment:"mid",ownership:"Privado"},
{name:"C6 Bank",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:22,assetsYear:"Q3-25",roe:8.5,roeYear:"Q3-25",cir:65,cirYear:"Q3-25",npl:5.8,nplYear:"Q3-25",growth:42,segment:"mid",ownership:"Privado"},
{name:"Banco Original",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:18,assetsYear:"2024",roe:5.5,roeYear:"2024",cir:68,cirYear:"2024",npl:4.8,nplYear:"2024",growth:18,segment:"emerging",ownership:"Privado"},
{name:"Banco Daycoval",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:16,assetsYear:"2024",roe:16.0,roeYear:"2024",cir:40,cirYear:"2024",npl:2.0,nplYear:"2024",growth:9,segment:"emerging",ownership:"Privado"},
{name:"Banco ABC Brasil",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:14,assetsYear:"2024",roe:14.5,roeYear:"2024",cir:36,cirYear:"2024",npl:1.6,nplYear:"2024",growth:10,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Sofisa",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:9,assetsYear:"2024",roe:13.0,roeYear:"2024",cir:46,cirYear:"2024",npl:1.8,nplYear:"2024",growth:16,segment:"emerging",ownership:"Privado"},
{name:"Banco Pine",country:"BR",countryName:"Brasil",flag:"ğŸ‡§ğŸ‡·",assets:8,assetsYear:"2024",roe:7.0,roeYear:"2024",cir:56,cirYear:"2024",npl:3.2,nplYear:"2024",growth:3,segment:"emerging",ownership:"Privado"},
// MEXICO - Data from CNBV 2024
{name:"BBVA MÃ©xico",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:210,assetsYear:"2024",roe:26.0,roeYear:"2024",cir:34,cirYear:"2024",npl:2.0,nplYear:"2024",growth:12,segment:"mega",ownership:"Multinacional"},
{name:"Banorte",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:195,assetsYear:"2024",roe:23.5,roeYear:"2024",cir:36,cirYear:"2024",npl:1.6,nplYear:"2024",growth:14,segment:"large",ownership:"Privado"},
{name:"Santander MÃ©xico",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:130,assetsYear:"2024",roe:17.5,roeYear:"2024",cir:40,cirYear:"2024",npl:2.3,nplYear:"2024",growth:9,segment:"large",ownership:"Multinacional"},
{name:"Citibanamex",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:120,assetsYear:"2024",roe:13.0,roeYear:"2024",cir:50,cirYear:"2024",npl:2.6,nplYear:"2024",growth:5,segment:"large",ownership:"Multinacional"},
{name:"HSBC MÃ©xico",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:58,assetsYear:"2024",roe:11.5,roeYear:"2024",cir:56,cirYear:"2024",npl:3.0,nplYear:"2024",growth:6,segment:"large",ownership:"Multinacional"},
{name:"Inbursa",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:52,assetsYear:"2024",roe:15.0,roeYear:"2024",cir:30,cirYear:"2024",npl:3.2,nplYear:"2024",growth:7,segment:"large",ownership:"Privado"},
{name:"Nacional Financiera",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:48,assetsYear:"2024",roe:9.0,roeYear:"2024",cir:44,cirYear:"2024",npl:1.8,nplYear:"2024",growth:6,segment:"mid",ownership:"Estatal"},
{name:"Scotiabank MÃ©xico",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:42,assetsYear:"2024",roe:12.5,roeYear:"2024",cir:50,cirYear:"2024",npl:2.5,nplYear:"2024",growth:5,segment:"mid",ownership:"Multinacional"},
{name:"Bancomext",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:38,assetsYear:"2024",roe:7.0,roeYear:"2024",cir:46,cirYear:"2024",npl:3.2,nplYear:"2024",growth:4,segment:"mid",ownership:"Estatal"},
{name:"Banco Azteca",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:32,assetsYear:"2024",roe:9.0,roeYear:"2024",cir:62,cirYear:"2024",npl:7.8,nplYear:"2024",growth:3,segment:"mid",ownership:"Privado"},
{name:"Banregio",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:26,assetsYear:"2024",roe:21.0,roeYear:"2024",cir:40,cirYear:"2024",npl:1.4,nplYear:"2024",growth:15,segment:"mid",ownership:"Privado"},
{name:"Banco del BajÃ­o",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:22,assetsYear:"2024",roe:19.5,roeYear:"2024",cir:42,cirYear:"2024",npl:1.6,nplYear:"2024",growth:13,segment:"mid",ownership:"Privado"},
{name:"Afirme",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:16,assetsYear:"2024",roe:13.5,roeYear:"2024",cir:50,cirYear:"2024",npl:2.3,nplYear:"2024",growth:9,segment:"emerging",ownership:"Privado"},
{name:"Banco Multiva",country:"MX",countryName:"MÃ©xico",flag:"ğŸ‡²ğŸ‡½",assets:10,assetsYear:"2024",roe:10.0,roeYear:"2024",cir:53,cirYear:"2024",npl:2.8,nplYear:"2024",growth:7,segment:"emerging",ownership:"Privado"},
// CHILE - Data from CMF 2024
{name:"Banco de Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:102,assetsYear:"2024",roe:19.5,roeYear:"2024",cir:40,cirYear:"2024",npl:1.6,nplYear:"2024",growth:7,segment:"large",ownership:"Privado"},
{name:"BancoEstado",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:92,assetsYear:"2024",roe:9.5,roeYear:"2024",cir:56,cirYear:"2024",npl:2.0,nplYear:"2024",growth:6,segment:"large",ownership:"Estatal"},
{name:"Santander Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:88,assetsYear:"2024",roe:17.0,roeYear:"2024",cir:38,cirYear:"2024",npl:1.8,nplYear:"2024",growth:8,segment:"large",ownership:"Multinacional"},
{name:"Scotiabank Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:70,assetsYear:"2024",roe:13.5,roeYear:"2024",cir:46,cirYear:"2024",npl:2.3,nplYear:"2024",growth:5,segment:"large",ownership:"Multinacional"},
{name:"BCI",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:68,assetsYear:"2024",roe:15.5,roeYear:"2024",cir:43,cirYear:"2024",npl:1.7,nplYear:"2024",growth:9,segment:"large",ownership:"Privado"},
{name:"Banco ItaÃº Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:50,assetsYear:"2024",roe:11.5,roeYear:"2024",cir:50,cirYear:"2024",npl:2.5,nplYear:"2024",growth:6,segment:"mid",ownership:"Multinacional"},
{name:"Banco Security",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:20,assetsYear:"2024",roe:12.0,roeYear:"2024",cir:46,cirYear:"2024",npl:2.0,nplYear:"2024",growth:8,segment:"mid",ownership:"Privado"},
{name:"Bice",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:18,assetsYear:"2024",roe:11.0,roeYear:"2024",cir:48,cirYear:"2024",npl:1.4,nplYear:"2024",growth:7,segment:"emerging",ownership:"Privado"},
{name:"Banco Falabella Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:14,assetsYear:"2024",roe:9.5,roeYear:"2024",cir:52,cirYear:"2024",npl:4.2,nplYear:"2024",growth:4,segment:"emerging",ownership:"Privado"},
{name:"Banco Consorcio",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:10,assetsYear:"2024",roe:10.5,roeYear:"2024",cir:50,cirYear:"2024",npl:1.8,nplYear:"2024",growth:11,segment:"emerging",ownership:"Privado"},
{name:"Banco Ripley Chile",country:"CL",countryName:"Chile",flag:"ğŸ‡¨ğŸ‡±",assets:7,assetsYear:"2024",roe:6.0,roeYear:"2024",cir:65,cirYear:"2024",npl:6.0,nplYear:"2024",growth:2,segment:"emerging",ownership:"Privado"},
// COLOMBIA - Data from Superfinanciera 2024
{name:"Bancolombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:95,assetsYear:"2024",roe:15.5,roeYear:"2024",cir:46,cirYear:"2024",npl:3.5,nplYear:"2024",growth:8,segment:"large",ownership:"Privado"},
{name:"Banco de BogotÃ¡",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:62,assetsYear:"2024",roe:14.0,roeYear:"2024",cir:44,cirYear:"2024",npl:3.0,nplYear:"2024",growth:7,segment:"large",ownership:"Privado"},
{name:"Davivienda",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:55,assetsYear:"2024",roe:12.5,roeYear:"2024",cir:50,cirYear:"2024",npl:4.0,nplYear:"2024",growth:6,segment:"large",ownership:"Privado"},
{name:"BBVA Colombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:32,assetsYear:"2024",roe:13.0,roeYear:"2024",cir:46,cirYear:"2024",npl:3.3,nplYear:"2024",growth:7,segment:"mid",ownership:"Multinacional"},
{name:"Banco Agrario",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:26,assetsYear:"2024",roe:6.0,roeYear:"2024",cir:62,cirYear:"2024",npl:5.5,nplYear:"2024",growth:5,segment:"mid",ownership:"Estatal"},
{name:"Banco de Occidente",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:20,assetsYear:"2024",roe:11.5,roeYear:"2024",cir:48,cirYear:"2024",npl:3.6,nplYear:"2024",growth:5,segment:"mid",ownership:"Privado"},
{name:"Banco Popular Colombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:17,assetsYear:"2024",roe:10.0,roeYear:"2024",cir:53,cirYear:"2024",npl:3.8,nplYear:"2024",growth:4,segment:"emerging",ownership:"Privado"},
{name:"Scotiabank Colpatria",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:16,assetsYear:"2024",roe:9.5,roeYear:"2024",cir:56,cirYear:"2024",npl:4.2,nplYear:"2024",growth:3,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Pichincha Colombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:14,assetsYear:"2024",roe:7.0,roeYear:"2024",cir:60,cirYear:"2024",npl:5.0,nplYear:"2024",growth:9,segment:"emerging",ownership:"Multinacional"},
{name:"Banco ItaÃº Colombia",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:12,assetsYear:"2024",roe:8.5,roeYear:"2024",cir:53,cirYear:"2024",npl:3.5,nplYear:"2024",growth:6,segment:"emerging",ownership:"Multinacional"},
{name:"Banco AV Villas",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:10,assetsYear:"2024",roe:9.0,roeYear:"2024",cir:56,cirYear:"2024",npl:4.0,nplYear:"2024",growth:4,segment:"emerging",ownership:"Privado"},
{name:"Banco Caja Social",country:"CO",countryName:"Colombia",flag:"ğŸ‡¨ğŸ‡´",assets:8,assetsYear:"2024",roe:7.5,roeYear:"2024",cir:60,cirYear:"2024",npl:4.8,nplYear:"2024",growth:3,segment:"emerging",ownership:"Privado"},
// PERU - Data from SBS 2024
{name:"BCP - Banco de CrÃ©dito del PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:70,assetsYear:"2024",roe:19.5,roeYear:"2024",cir:36,cirYear:"2024",npl:3.2,nplYear:"2024",growth:9,segment:"large",ownership:"Privado"},
{name:"BBVA PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:36,assetsYear:"2024",roe:16.0,roeYear:"2024",cir:40,cirYear:"2024",npl:3.5,nplYear:"2024",growth:7,segment:"mid",ownership:"Multinacional"},
{name:"Scotiabank PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:32,assetsYear:"2024",roe:13.5,roeYear:"2024",cir:46,cirYear:"2024",npl:4.0,nplYear:"2024",growth:5,segment:"mid",ownership:"Multinacional"},
{name:"Interbank",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:26,assetsYear:"2024",roe:17.0,roeYear:"2024",cir:43,cirYear:"2024",npl:3.0,nplYear:"2024",growth:10,segment:"mid",ownership:"Privado"},
{name:"Banco de la NaciÃ³n PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:22,assetsYear:"2024",roe:5.0,roeYear:"2024",cir:60,cirYear:"2024",npl:1.8,nplYear:"2024",growth:6,segment:"mid",ownership:"Estatal"},
{name:"MiBanco PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:10,assetsYear:"2024",roe:16.5,roeYear:"2024",cir:52,cirYear:"2024",npl:5.2,nplYear:"2024",growth:13,segment:"emerging",ownership:"Privado"},
{name:"Banco Pichincha PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:6,assetsYear:"2024",roe:6.5,roeYear:"2024",cir:62,cirYear:"2024",npl:5.8,nplYear:"2024",growth:5,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Falabella PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:5,assetsYear:"2024",roe:8.0,roeYear:"2024",cir:56,cirYear:"2024",npl:5.2,nplYear:"2024",growth:4,segment:"emerging",ownership:"Privado"},
{name:"Banco GNB PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:5,assetsYear:"2024",roe:9.5,roeYear:"2024",cir:50,cirYear:"2024",npl:3.8,nplYear:"2024",growth:7,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Ripley PerÃº",country:"PE",countryName:"PerÃº",flag:"ğŸ‡µğŸ‡ª",assets:4,assetsYear:"2024",roe:5.0,roeYear:"2024",cir:70,cirYear:"2024",npl:7.0,nplYear:"2024",growth:1,segment:"emerging",ownership:"Privado"},
// ARGENTINA - Data from BCRA 2024 (inflation-adjusted)
{name:"Banco de la NaciÃ³n Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:55,assetsYear:"2024",roe:38.0,roeYear:"2024",cir:52,cirYear:"2024",npl:1.4,nplYear:"2024",growth:18,segment:"mid",ownership:"Estatal"},
{name:"Banco Galicia",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:35,assetsYear:"2024",roe:35.0,roeYear:"2024",cir:46,cirYear:"2024",npl:1.8,nplYear:"2024",growth:20,segment:"mid",ownership:"Privado"},
{name:"Banco Provincia",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:32,assetsYear:"2024",roe:30.0,roeYear:"2024",cir:56,cirYear:"2024",npl:2.0,nplYear:"2024",growth:15,segment:"mid",ownership:"Estatal"},
{name:"Banco Macro",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:28,assetsYear:"2024",roe:32.0,roeYear:"2024",cir:43,cirYear:"2024",npl:1.6,nplYear:"2024",growth:18,segment:"mid",ownership:"Privado"},
{name:"Santander Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:25,assetsYear:"2024",roe:28.0,roeYear:"2024",cir:50,cirYear:"2024",npl:2.3,nplYear:"2024",growth:12,segment:"mid",ownership:"Multinacional"},
{name:"BBVA Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:22,assetsYear:"2024",roe:25.0,roeYear:"2024",cir:53,cirYear:"2024",npl:2.5,nplYear:"2024",growth:10,segment:"mid",ownership:"Multinacional"},
{name:"Banco Ciudad",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:18,assetsYear:"2024",roe:20.0,roeYear:"2024",cir:60,cirYear:"2024",npl:1.4,nplYear:"2024",growth:12,segment:"emerging",ownership:"Estatal"},
{name:"HSBC Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:15,assetsYear:"2024",roe:18.0,roeYear:"2024",cir:56,cirYear:"2024",npl:2.0,nplYear:"2024",growth:8,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Patagonia",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:13,assetsYear:"2024",roe:22.0,roeYear:"2024",cir:46,cirYear:"2024",npl:1.6,nplYear:"2024",growth:14,segment:"emerging",ownership:"Multinacional"},
{name:"ICBC Argentina",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:12,assetsYear:"2024",roe:18.0,roeYear:"2024",cir:50,cirYear:"2024",npl:1.8,nplYear:"2024",growth:10,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Supervielle",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:10,assetsYear:"2024",roe:20.0,roeYear:"2024",cir:56,cirYear:"2024",npl:2.2,nplYear:"2024",growth:12,segment:"emerging",ownership:"Privado"},
{name:"Banco Comafi",country:"AR",countryName:"Argentina",flag:"ğŸ‡¦ğŸ‡·",assets:7,assetsYear:"2024",roe:16.0,roeYear:"2024",cir:53,cirYear:"2024",npl:2.8,nplYear:"2024",growth:8,segment:"emerging",ownership:"Privado"},
// ECUADOR - Data from Superbancos 2024
{name:"Banco Pichincha Ecuador",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:20,assetsYear:"2024",roe:13.5,roeYear:"2024",cir:50,cirYear:"2024",npl:3.0,nplYear:"2024",growth:7,segment:"mid",ownership:"Privado"},
{name:"Banco Guayaquil",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:10,assetsYear:"2024",roe:15.0,roeYear:"2024",cir:46,cirYear:"2024",npl:2.6,nplYear:"2024",growth:9,segment:"emerging",ownership:"Privado"},
{name:"Produbanco",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:9,assetsYear:"2024",roe:14.5,roeYear:"2024",cir:43,cirYear:"2024",npl:2.3,nplYear:"2024",growth:10,segment:"emerging",ownership:"Privado"},
{name:"Banco del PacÃ­fico",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:8,assetsYear:"2024",roe:9.0,roeYear:"2024",cir:56,cirYear:"2024",npl:3.2,nplYear:"2024",growth:5,segment:"emerging",ownership:"Estatal"},
{name:"Banco Internacional EC",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:6,assetsYear:"2024",roe:12.0,roeYear:"2024",cir:48,cirYear:"2024",npl:2.5,nplYear:"2024",growth:8,segment:"emerging",ownership:"Privado"},
{name:"Banco Bolivariano",country:"EC",countryName:"Ecuador",flag:"ğŸ‡ªğŸ‡¨",assets:5,assetsYear:"2024",roe:11.5,roeYear:"2024",cir:50,cirYear:"2024",npl:2.8,nplYear:"2024",growth:7,segment:"emerging",ownership:"Privado"},
// PANAMA - Data from SBP 2024
{name:"Banco General PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:26,assetsYear:"2024",roe:15.5,roeYear:"2024",cir:40,cirYear:"2024",npl:1.6,nplYear:"2024",growth:8,segment:"mid",ownership:"Privado"},
{name:"Banistmo",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:18,assetsYear:"2024",roe:12.0,roeYear:"2024",cir:50,cirYear:"2024",npl:2.3,nplYear:"2024",growth:6,segment:"emerging",ownership:"Multinacional"},
{name:"BAC PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:15,assetsYear:"2024",roe:14.5,roeYear:"2024",cir:43,cirYear:"2024",npl:1.8,nplYear:"2024",growth:9,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Nacional de PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:12,assetsYear:"2024",roe:7.5,roeYear:"2024",cir:60,cirYear:"2024",npl:2.8,nplYear:"2024",growth:5,segment:"emerging",ownership:"Estatal"},
{name:"Global Bank PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:10,assetsYear:"2024",roe:13.0,roeYear:"2024",cir:46,cirYear:"2024",npl:2.0,nplYear:"2024",growth:10,segment:"emerging",ownership:"Privado"},
{name:"Multibank PanamÃ¡",country:"PA",countryName:"PanamÃ¡",flag:"ğŸ‡µğŸ‡¦",assets:7,assetsYear:"2024",roe:11.0,roeYear:"2024",cir:50,cirYear:"2024",npl:2.5,nplYear:"2024",growth:7,segment:"emerging",ownership:"Privado"},
// COSTA RICA - Data from SUGEF 2024
{name:"Banco Nacional de CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:22,assetsYear:"2024",roe:9.5,roeYear:"2024",cir:56,cirYear:"2024",npl:2.3,nplYear:"2024",growth:6,segment:"mid",ownership:"Estatal"},
{name:"BAC Credomatic CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:18,assetsYear:"2024",roe:17.0,roeYear:"2024",cir:40,cirYear:"2024",npl:1.8,nplYear:"2024",growth:11,segment:"emerging",ownership:"Multinacional"},
{name:"Banco de Costa Rica",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:15,assetsYear:"2024",roe:8.5,roeYear:"2024",cir:60,cirYear:"2024",npl:2.6,nplYear:"2024",growth:5,segment:"emerging",ownership:"Estatal"},
{name:"Banco Popular CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:13,assetsYear:"2024",roe:7.0,roeYear:"2024",cir:63,cirYear:"2024",npl:3.0,nplYear:"2024",growth:4,segment:"emerging",ownership:"Cooperativo"},
{name:"Scotiabank CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:8,assetsYear:"2024",roe:11.5,roeYear:"2024",cir:50,cirYear:"2024",npl:2.3,nplYear:"2024",growth:6,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Promerica CR",country:"CR",countryName:"Costa Rica",flag:"ğŸ‡¨ğŸ‡·",assets:5,assetsYear:"2024",roe:12.0,roeYear:"2024",cir:46,cirYear:"2024",npl:2.8,nplYear:"2024",growth:9,segment:"emerging",ownership:"Privado"},
// DOMINICAN REPUBLIC - Data from SIB 2024
{name:"Banco Popular Dominicano",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:20,assetsYear:"2024",roe:19.5,roeYear:"2024",cir:43,cirYear:"2024",npl:1.6,nplYear:"2024",growth:11,segment:"mid",ownership:"Privado"},
{name:"Banreservas",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:18,assetsYear:"2024",roe:13.0,roeYear:"2024",cir:50,cirYear:"2024",npl:2.3,nplYear:"2024",growth:9,segment:"emerging",ownership:"Estatal"},
{name:"Banco BHD LeÃ³n",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:14,assetsYear:"2024",roe:17.0,roeYear:"2024",cir:46,cirYear:"2024",npl:1.8,nplYear:"2024",growth:10,segment:"emerging",ownership:"Privado"},
{name:"Scotiabank RD",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:7,assetsYear:"2024",roe:12.0,roeYear:"2024",cir:53,cirYear:"2024",npl:2.5,nplYear:"2024",growth:6,segment:"emerging",ownership:"Multinacional"},
{name:"Banco Santa Cruz",country:"DO",countryName:"Rep. Dom.",flag:"ğŸ‡©ğŸ‡´",assets:4,assetsYear:"2024",roe:10.5,roeYear:"2024",cir:56,cirYear:"2024",npl:3.0,nplYear:"2024",growth:7,segment:"emerging",ownership:"Privado"}
];

function calcOpportunity(b){let s=0;if(b.roe>=15)s+=3;else if(b.roe>=10)s+=2;else if(b.roe>=7)s+=1;if(b.cir>=55)s+=3;else if(b.cir>=48)s+=2;else if(b.cir>=42)s+=1;if(b.growth>=12)s+=2;else if(b.growth>=8)s+=1;if(b.npl>=4)s+=1;if(b.assets>=50)s+=1;if(s>=7)return'hot';if(s>=4)return'warm';return'watch';}
banks.forEach(b=>b.opportunity=calcOpportunity(b));
banks.sort((a,b)=>b.assets-a.assets);
banks.forEach((b,i)=>b.rank=i+1);
let currentSort={column:'assets',direction:'desc'};
function getSegmentClass(s){return{'mega':'segment-mega','large':'segment-large','mid':'segment-mid','emerging':'segment-emerging'}[s]||'';}
function getSegmentLabel(s){return{'mega':'Mega','large':'Large','mid':'Mid','emerging':'Emerging'}[s]||s;}
function getOppClass(o){return{'hot':'opp-hot','warm':'opp-warm','watch':'opp-watch'}[o]||'';}
function getOppLabel(o){return{'hot':'ğŸ”¥ HOT','warm':'ğŸŸ¡ WARM','watch':'ğŸ‘ WATCH'}[o]||o;}
function getRoeClass(v){if(v>=12)return'ratio-good';if(v>=8)return'ratio-warning';return'ratio-bad';}
function getCirClass(v){if(v>=55)return'ratio-bad';if(v>=45)return'ratio-warning';return'ratio-good';}
function getNplClass(v){if(v>=4)return'ratio-bad';if(v>=2.5)return'ratio-warning';return'ratio-good';}
function getGrowthClass(v){return v>=8?'growth-positive':v<=2?'growth-negative':'ratio-neutral';}
function renderTable(data){
    document.getElementById('banks-body').innerHTML=data.map(b=>`
        <tr>
            <td class="rank-cell ${b.rank<=3?'rank-'+b.rank:''}">${b.rank}</td>
            <td class="bank-name-cell">${b.name}</td>
            <td class="country-cell"><span class="flag">${b.flag}</span> ${b.countryName}</td>
            <td class="assets-cell">$${b.assets}B<span class="year-badge">(${b.assetsYear})</span></td>
            <td class="ratio-cell ${getRoeClass(b.roe)}">${b.roe.toFixed(1)}%<span class="year-badge">(${b.roeYear})</span></td>
            <td class="ratio-cell ${getCirClass(b.cir)}">${b.cir}%<span class="year-badge">(${b.cirYear})</span></td>
            <td class="ratio-cell ${getNplClass(b.npl)}">${b.npl.toFixed(1)}%<span class="year-badge">(${b.nplYear})</span></td>
            <td class="ratio-cell ${getGrowthClass(b.growth)}">${b.growth>0?'+':''}${b.growth}%</td>
            <td><span class="segment-badge ${getSegmentClass(b.segment)}">${getSegmentLabel(b.segment)}</span></td>
            <td class="opportunity-cell"><span class="opp-badge ${getOppClass(b.opportunity)}">${getOppLabel(b.opportunity)}</span></td>
        </tr>`).join('');
}
function filterAndSort(){const cf=document.getElementById('country-filter').value;const sf=document.getElementById('segment-filter').value;const of=document.getElementById('opp-filter').value;const st=document.getElementById('search').value.toLowerCase();let f=banks.filter(b=>(!cf||b.country===cf)&&(!sf||b.segment===sf)&&(!of||b.opportunity===of)&&(!st||b.name.toLowerCase().includes(st)));f.forEach((b,i)=>b.rank=i+1);renderTable(f);updateStats(f);}
function updateStats(data){const t=data.reduce((s,b)=>s+b.assets,0);const avgRoe=data.length?data.reduce((s,b)=>s+b.roe,0)/data.length:0;document.getElementById('total-assets').textContent=t>=1000?'$'+(t/1000).toFixed(1)+'T':'$'+t+'B';document.getElementById('countries-count').textContent=new Set(data.map(b=>b.country)).size;document.getElementById('hot-count').textContent=data.filter(b=>b.opportunity==='hot').length;document.getElementById('avg-roe').textContent=avgRoe.toFixed(1)+'%';}
function sortTable(col){if(currentSort.column===col)currentSort.direction=currentSort.direction==='asc'?'desc':'asc';else{currentSort.column=col;currentSort.direction=['assets','roe','growth'].includes(col)?'desc':'asc';}const sf={'rank':(a,b)=>a.rank-b.rank,'name':(a,b)=>a.name.localeCompare(b.name),'country':(a,b)=>a.countryName.localeCompare(b.countryName),'assets':(a,b)=>a.assets-b.assets,'roe':(a,b)=>a.roe-b.roe,'cir':(a,b)=>a.cir-b.cir,'npl':(a,b)=>a.npl-b.npl,'growth':(a,b)=>a.growth-b.growth,'segment':(a,b)=>a.segment.localeCompare(b.segment),'opportunity':(a,b)=>{const o={hot:3,warm:2,watch:1};return(o[a.opportunity]||0)-(o[b.opportunity]||0);}};banks.sort((a,b)=>currentSort.direction==='asc'?sf[col](a,b):-sf[col](a,b));banks.forEach((b,i)=>b.rank=i+1);document.querySelectorAll('th').forEach(th=>{th.classList.remove('sorted-asc','sorted-desc');if(th.dataset.sort===col)th.classList.add(currentSort.direction==='asc'?'sorted-asc':'sorted-desc');});filterAndSort();}
document.getElementById('country-filter').addEventListener('change',filterAndSort);
document.getElementById('segment-filter').addEventListener('change',filterAndSort);
document.getElementById('opp-filter').addEventListener('change',filterAndSort);
document.getElementById('search').addEventListener('input',filterAndSort);
document.querySelectorAll('th[data-sort]').forEach(th=>th.addEventListener('click',()=>sortTable(th.dataset.sort)));
renderTable(banks);updateStats(banks);
    </script>
</body>
</html>
